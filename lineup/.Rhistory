player1
player1= page %>% html_nodes(xpath='//*[@id="site"]/div[3]/div[1]/div/div[6]/div/table[4]') %>% nth(1)
player1
player1= page %>% html_nodes(xpath='//*[@id="site"]/div[3]/div[1]/div/div[6]/div/table[4]') %>% nth(1) %>% read_html()
player1= page %>% html_nodes(xpath='//*[@id="site"]/div[3]/div[1]/div/div[6]/div/table[4]') %>% nth(1) %>% html_nodes('table')
player1
player1= page %>% html_nodes(xpath='//*[@id="site"]/div[3]/div[1]/div/div[6]/div/table[4]') %>% nth(1) %>% html_nodes('table') %>% nth(1)
player1
player1= page %>% html_nodes(xpath='//*[@id="site"]/div[3]/div[1]/div/div[6]/div/table[4]') %>% nth(1) %>% html_nodes('table') %>% nth(1) %>% html_table()
player1
View(player1)
player1$X2
libray(string_R)
library(stringr)
player1$X2 %>% str_replace_all(.,'\\t','')
player1$X2 %>% str_replace_all(.,'\\t\\n','')
player1$X2 %>% str_replace_all(.,'\\t|\\n','')
player1$X2 %>% str_replace_all(.,'\\t|\\n|\\d','')
player1$X2 %>% str_replace_all(.,'\\t|\\n|\\d|\\'','')
player1$X2 %>% str_replace_all(.,'\\t|\\n|\\d|\\"'"','')
)
''
''
'
""
player1$X2 %>% str_replace_all(.,"\\t|\\n|\\d|'",'')
a=data.frame(name="sanchez")
a
a=data.frame(name="sanchez",day1=1,day2=0,day3=3,day4=4)
a
library(rvest)
library(plyr)
library(stringr)
library(ggplot2)
library(ggthemes)
library(scales)
library(viridis)
library(extrafont)
library(grid)
library(gridExtra)
library(dplyr)
getHomeAwayUrl <- function(url){
purrr::map(1:38,function(x) url %>% read_html() %>% html_nodes(xpath=paste0('//*[@id="main"]/div[9]/div[1]/div[5]/div[3]/table/tbody/tr[',x,']/td[5]') %>% html_text()
}
getHomeAwayUrl <- function(url){
purrr::map(1:38,function(x) url %>% read_html() %>% html_nodes(xpath=paste0('//*[@id="main"]/div[9]/div[1]/div[5]/div[3]/table/tbody/tr[',x,']/td[5]')) %>% html_text()
}
getHomeAwayUrl <- function(url){
purrr::map(1:38,function(x) url %>% read_html() %>% html_nodes(xpath=paste0('//*[@id="main"]/div[9]/div[1]/div[5]/div[3]/table/tbody/tr[',x,']/td[5]')) %>% html_text())
}
a='https://www.transfermarkt.com/arsenal-fc/spielplan/verein/11/plus/0?saison_id=2016'
getHomeAwayUrl(a)
getHomeAwayUrl <- function(url){
purrr::map(1:38,function(x) url %>% read_html() %>% html_nodes(xpath=paste0('//*[@id="main"]/div[9]/div[1]/div[5]/div[3]/table/tbody/tr[',x,']/td[4]')) %>% html_text())
}
getHomeAwayUrl <- function(url){
purrr::map(1:38,function(x) url %>% read_html() %>% html_nodes(xpath=paste0('//*[@id="main"]/div[9]/div[1]/div[5]/div[3]/table/tbody/tr[',x,']/td[4]')) %>% html_text() %>% ifelse(.=="H",1,2))
}
getHomeAwayUrl(a)
getHomeAwayUrl <- function(url){
purrr::map(1:38,function(x) url %>% read_html() %>% html_nodes(xpath=paste0('//*[@id="main"]/div[9]/div[1]/div[5]/div[3]/table/tbody/tr[',x,']/td[4]')) %>% html_text() %>% ifelse(=="H",1,2))
}
getHomeAwayUrl <- function(url){
purrr::map(1:38,function(x) url %>% read_html() %>% html_nodes(xpath=paste0('//*[@id="main"]/div[9]/div[1]/div[5]/div[3]/table/tbody/tr[',x,']/td[4]')) %>% html_text()) %>% ifelse(.=="H",1,2)
}
getHomeAwayUrl(a)
getHomeAwayUrl <- function(url){
purrr::map(1:38,function(x) url %>% read_html() %>% html_nodes(xpath=paste0('//*[@id="main"]/div[9]/div[1]/div[5]/div[3]/table/tbody/tr[',x,']/td[4]')) %>% html_text())
}
getHomeAwayUrl(a)
getHomeAwayUrl <- function(url){
purrr::map(1:38,function(x) url %>% read_html() %>% html_nodes(xpath=paste0('//*[@id="main"]/div[9]/div[1]/div[5]/div[3]/table/tbody/tr[',x,']/td[4]')) %>% html_text() %>% ifelse(~.=="H",1,2))
}
getHomeAwayUrl(a)
getHomeAwayUrl <- function(url){
purrr::map(1:38,function(x) url %>% read_html() %>% html_nodes(xpath=paste0('//*[@id="main"]/div[9]/div[1]/div[5]/div[3]/table/tbody/tr[',x,']/td[4]')) %>% html_text() %>% ~ifelse(.=="H",1,2))
}
getHomeAwayUrl(a)
getHomeAwayUrl <- function(url){
purrr::map(1:38,function(x) url %>% read_html() %>% html_nodes(xpath=paste0('//*[@id="main"]/div[9]/div[1]/div[5]/div[3]/table/tbody/tr[',x,']/td[4]')) %>% html_text() %>% ifelse(.=="H",1,2))
}
getHomeAwayUrl(a)
map(1:3,ifelse(.==1,2,3))
library(purrr)
map(1:3,ifelse(.==1,2,3))
map(1:3,ifelse(~.==1,2,3))
map(1:3,ifelse(~.=1,2,3))
map(1:3,ifelse(==1,2,3))
map(1:3,ifelse(.==1,2,3))
map(1:3,ifelse())
map(1:3,ifelse(),.==1,2)
map(1:3,ifelse(),.==1,2,3)
map(1:3,ifelse(),~.==1,2,3)
map(1:3,.+1)
map(1:3,~.+1)
map(1:3,if(~.==1,1,2))
map(1:3,if)
1 %>% ifelse(.==1,2,3)
1 %>% ifelse(~.==1,2,3)
1 %>% ifelse(2,3)
1 %>% ifelse(<2,3)
1 %>% ifelse(>2,3)
getHomeAwayUrl <- function(url){
purrr::map(1:38,function(x) url %>% read_html() %>% html_nodes(xpath=paste0('//*[@id="main"]/div[9]/div[1]/div[5]/div[3]/table/tbody/tr[',x,']/td[4]')) %>% html_text() %>% ~ifelse(.=="H",1,2))
}
getHomeAwayUrl(a)
ifelse(1:3==1,2,3)
getHomeAwayUrl <- function(url){
purrr::map(1:38,function(x) url %>% read_html() %>% html_nodes(xpath=paste0('//*[@id="main"]/div[9]/div[1]/div[5]/div[3]/table/tbody/tr[',x,']/td[4]')) %>% html_text()) %>% ifelse(.=="H",1,2)
}
getHomeAwayUrl(a)
getHomeAwayUrl <- function(url){
purrr::map(1:38,function(x) url %>% read_html() %>% html_nodes(xpath=paste0('//*[@id="main"]/div[9]/div[1]/div[5]/div[3]/table/tbody/tr[',x,']/td[4]')) %>% html_text()) %>% ~ifelse(.=="H",1,2)
}
getHomeAwayUrl(a)
getHomeAwayUrl <- function(url){
purrr::map(1:38,function(x) url %>% read_html() %>% html_nodes(xpath=paste0('//*[@id="main"]/div[9]/div[1]/div[5]/div[3]/table/tbody/tr[',x,']/td[4]')) %>% html_text()) %>% ifelse(~.=="H",1,2)
}
getHomeAwayUrl(a)
getHomeAwayUrl <- function(url){
purrr::map(1:38,function(x) url %>% read_html() %>% html_nodes(xpath=paste0('//*[@id="main"]/div[9]/div[1]/div[5]/div[3]/table/tbody/tr[',x,']/td[4]')) %>% html_text() %>% if(.=="H") 1 else 2)
}
getHomeAwayUrl(a)
getHomeAwayUrl <- function(url){
purrr::map(1:38,function(x) url %>% read_html() %>% html_nodes(xpath=paste0('//*[@id="main"]/div[9]/div[1]/div[5]/div[3]/table/tbody/tr[',x,']/td[4]')) %>% html_text() %>% if(~.=="H") 1 else 2)
}
getHomeAwayUrl(a)
getHomeAwayUrl <- function(url){
ifelse(purrr::map(1:38,function(x) url %>% read_html() %>% html_nodes(xpath=paste0('//*[@id="main"]/div[9]/div[1]/div[5]/div[3]/table/tbody/tr[',x,']/td[4]')) %>% html_text())=="H",1,2)
}
getHomeAwayUrl(a)
do.call(rbind,map2(getMatchUrl(url),getHomeAwayUrl(url),getLineUp(x,y))
)
getLineUp <- function(url,team){
page = url %>% read_html()
matchday = page %>% html_nodes(xpath='//*[@id="main"]/div[7]/div/div/div[2]/div[3]/p[2]/a[1]') %>% html_text() %>% str_split(.,"\\.",simplify=T) %>% .[[1]] %>% as.numeric()
if(team==1){
page = url %>% read_html()
titu=page %>% html_nodes(xpath='//*[@id="main"]/div[9]/div[1]/div/div[2]/table') %>% html_table(fill=T) %>% nth(1) %>% .$X4 %>% na.omit() %>% as.character() %>% str_replace_all(.,"\\(.*\\)",'') %>% tibble(player=.)
titu$lineup="player"
bench= page %>% html_nodes(xpath='//*[@id="main"]/div[10]/div[1]/div/div[2]/table')%>% html_table(fill=T) %>% nth(1) %>% .$X4 %>% na.omit() %>% as.character() %>% str_replace_all(.,"\\(.*\\)",'') %>% tibble(player=.)
bench$lineup="bench"
tb=rbind(titu,bench)
}
if(team==2){
page = url %>% read_html()
titu=page %>% html_nodes(xpath='//*[@id="main"]/div[9]/div[2]/div/div[2]/table') %>% html_table(fill=T) %>% nth(1) %>% .$X4 %>% na.omit() %>% as.character() %>% str_replace_all(.,"\\(.*\\)",'') %>% tibble(player=.)
titu$lineup="player"
bench= page %>% html_nodes(xpath='//*[@id="main"]/div[10]/div[2]/div/div[2]/table')%>% html_table(fill=T) %>% nth(1) %>% .$X4 %>% na.omit() %>% as.character() %>% str_replace_all(.,"\\(.*\\)",'') %>% tibble(player=.)
bench$lineup="bench"
tb=rbind(titu,bench)
}
tb$matchday=matchday
return(tb)
}
#https://www.transfermarkt.com/arsenal-fc/spielplan/verein/11/plus/0?saison_id=2016
getMatchUrl <- function(url){
purrr::map(1:38,function(x) url %>% read_html() %>% html_nodes(xpath=paste0('//*[@id="main"]/div[9]/div[1]/div[5]/div[3]/table/tbody/tr[',x,']/td[10]/a')) %>% html_attr(.,"href") %>% paste0("https://www.transfermarkt.com",.) %>% str_replace_all(.,'index','aufstellung'))
}
getHomeAwayUrl <- function(url){
ifelse(purrr::map(1:38,function(x) url %>% read_html() %>% html_nodes(xpath=paste0('//*[@id="main"]/div[9]/div[1]/div[5]/div[3]/table/tbody/tr[',x,']/td[4]')) %>% html_text())=="H",1,2)
}
list=getMatchUrl("https://www.transfermarkt.com/arsenal-fc/spielplan/verein/11/plus/0?saison_id=2016")
do.call(rbind,map2(getMatchUrl(url),getHomeAwayUrl(url),getLineUp(x,y))
)
do.call(rbind,map2(getMatchUrl(url),getHomeAwayUrl(url),getLineUp(getMatchUrl(url),getHomeAwayUrl(url))))
map(getMatchUrl(url),getHomeAwayurl(url),function(a,b)getLineUp(a,b))
map2(getMatchUrl(url),getHomeAwayurl(url),function(a,b)getLineUp(a,b))
url
url="https://www.transfermarkt.com/arsenal-fc/spielplan/verein/11/plus/0?saison_id=2016"
map2(getMatchUrl(url),getHomeAwayurl(url),function(a,b)getLineUp(a,b))
map(getMatchUrl(url),getHomeAwayUrl(url),function(a,b)getLineUp(a,b))
map2(getMatchUrl(url),getHomeAwayUrl(url),function(a,b)getLineUp(a,b))
a=map2(getMatchUrl(url),getHomeAwayUrl(url),function(a,b)getLineUp(a,b))
a
a=map2(getMatchUrl(url),getHomeAwayUrl(url),function(a,b)getLineUp(a,b))
a
save.image("~/Documents/DevData/scrape/lineup/variableTMP.RData")
all = do.call(rbind,a)
library(ggplot2)
ggplot() + geom_point(data=all,aes(x=matchday,y=player))
ggplot() + geom_point(data=all,aes(x=matchday,y=player,color=lineup))
ggplot() + geom_point(data=all,aes(x=matchday,y=player %>% str_replace(.,"\\s",""),color=lineup))
library(stringr)
ggplot() + geom_point(data=all,aes(x=matchday,y=player %>% str_replace(.,"\\s",""),color=lineup))
all2 = all
all2$player = str_replace_all(all$player,"\\s","")
View(all2)
ggplot() + geom_point(data=all2,aes(x=matchday,y=player,color=lineup))
setwd("~/Documents/DevData/scrape/lineup")
all <- read.csv("~/Documents/DevData/scrape/lineup/export.csv", sep=";")
View(all)
ggplot() + geom_rect(aes(xmin=0,xmax=38,ymin=0,ymax=4), alpha=0.2,fill="red") + geom_rect(aes(xmin=0,xmax=38,ymin=4,ymax=15), alpha=0.2,fill="blue") + geom_rect(aes(xmin=0,xmax=38,ymin=15,ymax=23), alpha=0.2,fill="green") + geom_rect(aes(xmin=0,xmax=38,ymin=23,ymax=32), alpha=0.2,fill="yellow")+geom_point(data=all,aes(x=matchday,y=player,color=lineup)) + scale_y_discrete(limits=c("Petr Cech", "David Ospina", "Emiliano Martínez","Matt Macey","Héctor Bellerín", "Carl Jenkinson", "Mathieu Debuchy","Nacho Monreal", "Kieran Gibbs","Rob Holding", "Calum Chambers", "Laurent Koscielny", "Shkodran Mustafi", "Gabriel Paulista", "Per Mertesacker","Mohamed Elneny","Granit Xhaka", "Francis Coquelin", "Santi Cazorla", "Aaron Ramsey","Jack Wilshere","Jeff Reine-Adelaide","Mesut Özil","Alex Oxlade-Chamberlain", "Ainsley Maitland-Niles","Alex Iwobi", "Alexis Sánchez","Theo Walcott", "Danny Welbeck","Lucas Pérez","Chuba Akpom", "Olivier Giroud"))+ labs(x="Matchday", y="Players",title="Arsenal Team Rotation",subtitle="2016-2017 season",caption="by Benoit Pimpaud / @Ben8t") + theme_ipsum_rc()
library(rvest)
library(plyr)
library(stringr)
library(ggplot2)
library(ggthemes)
library(hrbrthemes)
library(scales)
library(viridis)
library(extrafont)
library(grid)
library(gridExtra)
library(purrr)
library(dplyr)
ggplot() + geom_rect(aes(xmin=0,xmax=38,ymin=0,ymax=4), alpha=0.2,fill="red") + geom_rect(aes(xmin=0,xmax=38,ymin=4,ymax=15), alpha=0.2,fill="blue") + geom_rect(aes(xmin=0,xmax=38,ymin=15,ymax=23), alpha=0.2,fill="green") + geom_rect(aes(xmin=0,xmax=38,ymin=23,ymax=32), alpha=0.2,fill="yellow")+geom_point(data=all,aes(x=matchday,y=player,color=lineup)) + scale_y_discrete(limits=c("Petr Cech", "David Ospina", "Emiliano Martínez","Matt Macey","Héctor Bellerín", "Carl Jenkinson", "Mathieu Debuchy","Nacho Monreal", "Kieran Gibbs","Rob Holding", "Calum Chambers", "Laurent Koscielny", "Shkodran Mustafi", "Gabriel Paulista", "Per Mertesacker","Mohamed Elneny","Granit Xhaka", "Francis Coquelin", "Santi Cazorla", "Aaron Ramsey","Jack Wilshere","Jeff Reine-Adelaide","Mesut Özil","Alex Oxlade-Chamberlain", "Ainsley Maitland-Niles","Alex Iwobi", "Alexis Sánchez","Theo Walcott", "Danny Welbeck","Lucas Pérez","Chuba Akpom", "Olivier Giroud"))+ labs(x="Matchday", y="Players",title="Arsenal Team Rotation",subtitle="2016-2017 season",caption="by Benoit Pimpaud / @Ben8t") + theme_ipsum_rc()
ggplot() + geom_rect(aes(xmin=0,xmax=38,ymin=0,ymax=4), alpha=0.2,fill="#0d47a1") + geom_rect(aes(xmin=0,xmax=38,ymin=4,ymax=15), alpha=0.2,fill="blue") + geom_rect(aes(xmin=0,xmax=38,ymin=15,ymax=23), alpha=0.2,fill="green") + geom_rect(aes(xmin=0,xmax=38,ymin=23,ymax=32), alpha=0.2,fill="yellow")+geom_point(data=all,aes(x=matchday,y=player,color=lineup)) + scale_y_discrete(limits=c("Petr Cech", "David Ospina", "Emiliano Martínez","Matt Macey","Héctor Bellerín", "Carl Jenkinson", "Mathieu Debuchy","Nacho Monreal", "Kieran Gibbs","Rob Holding", "Calum Chambers", "Laurent Koscielny", "Shkodran Mustafi", "Gabriel Paulista", "Per Mertesacker","Mohamed Elneny","Granit Xhaka", "Francis Coquelin", "Santi Cazorla", "Aaron Ramsey","Jack Wilshere","Jeff Reine-Adelaide","Mesut Özil","Alex Oxlade-Chamberlain", "Ainsley Maitland-Niles","Alex Iwobi", "Alexis Sánchez","Theo Walcott", "Danny Welbeck","Lucas Pérez","Chuba Akpom", "Olivier Giroud"))+ labs(x="Matchday", y="Players",title="Arsenal Team Rotation",subtitle="2016-2017 season",caption="by Benoit Pimpaud / @Ben8t") + theme_ipsum_rc()
ggplot() + geom_rect(aes(xmin=0,xmax=38,ymin=0,ymax=4), alpha=0.2,fill="#ff4081") + geom_rect(aes(xmin=0,xmax=38,ymin=4,ymax=15), alpha=0.2,fill="blue") + geom_rect(aes(xmin=0,xmax=38,ymin=15,ymax=23), alpha=0.2,fill="green") + geom_rect(aes(xmin=0,xmax=38,ymin=23,ymax=32), alpha=0.2,fill="yellow")+geom_point(data=all,aes(x=matchday,y=player,color=lineup)) + scale_y_discrete(limits=c("Petr Cech", "David Ospina", "Emiliano Martínez","Matt Macey","Héctor Bellerín", "Carl Jenkinson", "Mathieu Debuchy","Nacho Monreal", "Kieran Gibbs","Rob Holding", "Calum Chambers", "Laurent Koscielny", "Shkodran Mustafi", "Gabriel Paulista", "Per Mertesacker","Mohamed Elneny","Granit Xhaka", "Francis Coquelin", "Santi Cazorla", "Aaron Ramsey","Jack Wilshere","Jeff Reine-Adelaide","Mesut Özil","Alex Oxlade-Chamberlain", "Ainsley Maitland-Niles","Alex Iwobi", "Alexis Sánchez","Theo Walcott", "Danny Welbeck","Lucas Pérez","Chuba Akpom", "Olivier Giroud"))+ labs(x="Matchday", y="Players",title="Arsenal Team Rotation",subtitle="2016-2017 season",caption="by Benoit Pimpaud / @Ben8t") + theme_ipsum_rc()
ggplot() + geom_rect(aes(xmin=0,xmax=38,ymin=0,ymax=4), alpha=0.4,fill="#2979ff") + geom_rect(aes(xmin=0,xmax=38,ymin=4,ymax=15), alpha=0.4,fill="#00bfa5") + geom_rect(aes(xmin=0,xmax=38,ymin=15,ymax=23), alpha=0.2,fill="green") + geom_rect(aes(xmin=0,xmax=38,ymin=23,ymax=32), alpha=0.2,fill="yellow")+geom_point(data=all,aes(x=matchday,y=player,color=lineup)) + scale_y_discrete(limits=c("Petr Cech", "David Ospina", "Emiliano Martínez","Matt Macey","Héctor Bellerín", "Carl Jenkinson", "Mathieu Debuchy","Nacho Monreal", "Kieran Gibbs","Rob Holding", "Calum Chambers", "Laurent Koscielny", "Shkodran Mustafi", "Gabriel Paulista", "Per Mertesacker","Mohamed Elneny","Granit Xhaka", "Francis Coquelin", "Santi Cazorla", "Aaron Ramsey","Jack Wilshere","Jeff Reine-Adelaide","Mesut Özil","Alex Oxlade-Chamberlain", "Ainsley Maitland-Niles","Alex Iwobi", "Alexis Sánchez","Theo Walcott", "Danny Welbeck","Lucas Pérez","Chuba Akpom", "Olivier Giroud"))+ labs(x="Matchday", y="Players",title="Arsenal Team Rotation",subtitle="2016-2017 season",caption="by Benoit Pimpaud / @Ben8t") + theme_ipsum_rc()
ggplot() + geom_rect(aes(xmin=0,xmax=38,ymin=0,ymax=4), alpha=0.4,fill="#2979ff") + geom_rect(aes(xmin=0,xmax=38,ymin=4,ymax=15), alpha=0.4,fill="#00bfa5") + geom_rect(aes(xmin=0,xmax=38,ymin=15,ymax=23), alpha=0.4,fill="#64ffda") + geom_rect(aes(xmin=0,xmax=38,ymin=23,ymax=32), alpha=0.4,fill="#ffff00")+geom_point(data=all,aes(x=matchday,y=player,color=lineup)) + scale_y_discrete(limits=c("Petr Cech", "David Ospina", "Emiliano Martínez","Matt Macey","Héctor Bellerín", "Carl Jenkinson", "Mathieu Debuchy","Nacho Monreal", "Kieran Gibbs","Rob Holding", "Calum Chambers", "Laurent Koscielny", "Shkodran Mustafi", "Gabriel Paulista", "Per Mertesacker","Mohamed Elneny","Granit Xhaka", "Francis Coquelin", "Santi Cazorla", "Aaron Ramsey","Jack Wilshere","Jeff Reine-Adelaide","Mesut Özil","Alex Oxlade-Chamberlain", "Ainsley Maitland-Niles","Alex Iwobi", "Alexis Sánchez","Theo Walcott", "Danny Welbeck","Lucas Pérez","Chuba Akpom", "Olivier Giroud"))+ labs(x="Matchday", y="Players",title="Arsenal Team Rotation",subtitle="2016-2017 season",caption="by Benoit Pimpaud / @Ben8t") + theme_ipsum_rc()
ggplot() + geom_rect(aes(xmin=0,xmax=38,ymin=0,ymax=4), alpha=0.5,fill="#1976d2") + geom_rect(aes(xmin=0,xmax=38,ymin=4,ymax=15), alpha=0.5,fill="#00bfa5") + geom_rect(aes(xmin=0,xmax=38,ymin=15,ymax=23), alpha=0.5,fill="#64ffda") + geom_rect(aes(xmin=0,xmax=38,ymin=23,ymax=32), alpha=0.5,fill="#ffff00")+geom_point(data=all,aes(x=matchday,y=player,color=lineup)) + scale_y_discrete(limits=c("Petr Cech", "David Ospina", "Emiliano Martínez","Matt Macey","Héctor Bellerín", "Carl Jenkinson", "Mathieu Debuchy","Nacho Monreal", "Kieran Gibbs","Rob Holding", "Calum Chambers", "Laurent Koscielny", "Shkodran Mustafi", "Gabriel Paulista", "Per Mertesacker","Mohamed Elneny","Granit Xhaka", "Francis Coquelin", "Santi Cazorla", "Aaron Ramsey","Jack Wilshere","Jeff Reine-Adelaide","Mesut Özil","Alex Oxlade-Chamberlain", "Ainsley Maitland-Niles","Alex Iwobi", "Alexis Sánchez","Theo Walcott", "Danny Welbeck","Lucas Pérez","Chuba Akpom", "Olivier Giroud"))+ labs(x="Matchday", y="Players",title="Arsenal Team Rotation",subtitle="2016-2017 season",caption="by Benoit Pimpaud / @Ben8t") + theme_ipsum_rc()
ggplot() + geom_rect(aes(xmin=0,xmax=38,ymin=0,ymax=4), alpha=0.5,fill="#b71c1c") + geom_rect(aes(xmin=0,xmax=38,ymin=4,ymax=15), alpha=0.5,fill="#d32f2f") + geom_rect(aes(xmin=0,xmax=38,ymin=15,ymax=23), alpha=0.5,fill="#f44336") + geom_rect(aes(xmin=0,xmax=38,ymin=23,ymax=32), alpha=0.5,fill="#e57373")+geom_point(data=all,aes(x=matchday,y=player,color=lineup)) + scale_y_discrete(limits=c("Petr Cech", "David Ospina", "Emiliano Martínez","Matt Macey","Héctor Bellerín", "Carl Jenkinson", "Mathieu Debuchy","Nacho Monreal", "Kieran Gibbs","Rob Holding", "Calum Chambers", "Laurent Koscielny", "Shkodran Mustafi", "Gabriel Paulista", "Per Mertesacker","Mohamed Elneny","Granit Xhaka", "Francis Coquelin", "Santi Cazorla", "Aaron Ramsey","Jack Wilshere","Jeff Reine-Adelaide","Mesut Özil","Alex Oxlade-Chamberlain", "Ainsley Maitland-Niles","Alex Iwobi", "Alexis Sánchez","Theo Walcott", "Danny Welbeck","Lucas Pérez","Chuba Akpom", "Olivier Giroud"))+ labs(x="Matchday", y="Players",title="Arsenal Team Rotation",subtitle="2016-2017 season",caption="by Benoit Pimpaud / @Ben8t") + theme_ipsum_rc()
ggplot() + geom_rect(aes(xmin=0,xmax=38,ymin=0,ymax=4), alpha=0.4,fill="#1976d2") + geom_rect(aes(xmin=0,xmax=38,ymin=4,ymax=15), alpha=0.4,fill="#00bfa5") + geom_rect(aes(xmin=0,xmax=38,ymin=15,ymax=23), alpha=0.4,fill="#64ffda") + geom_rect(aes(xmin=0,xmax=38,ymin=23,ymax=32), alpha=0.4,fill="#ffff00")+geom_point(data=all,aes(x=matchday,y=player,color=lineup)) + scale_y_discrete(limits=c("Petr Cech", "David Ospina", "Emiliano Martínez","Matt Macey","Héctor Bellerín", "Carl Jenkinson", "Mathieu Debuchy","Nacho Monreal", "Kieran Gibbs","Rob Holding", "Calum Chambers", "Laurent Koscielny", "Shkodran Mustafi", "Gabriel Paulista", "Per Mertesacker","Mohamed Elneny","Granit Xhaka", "Francis Coquelin", "Santi Cazorla", "Aaron Ramsey","Jack Wilshere","Jeff Reine-Adelaide","Mesut Özil","Alex Oxlade-Chamberlain", "Ainsley Maitland-Niles","Alex Iwobi", "Alexis Sánchez","Theo Walcott", "Danny Welbeck","Lucas Pérez","Chuba Akpom", "Olivier Giroud"))+ labs(x="Matchday", y="Players",title="Arsenal Team Rotation",subtitle="2016-2017 season",caption="by Benoit Pimpaud / @Ben8t") + theme_ipsum_rc()
ggplot() + geom_rect(aes(xmin=0,xmax=38,ymin=0,ymax=4), alpha=0.4,fill="#1976d2") + geom_rect(aes(xmin=0,xmax=38,ymin=4,ymax=15), alpha=0.4,fill="#00bfa5") + geom_rect(aes(xmin=0,xmax=38,ymin=15,ymax=23), alpha=0.4,fill="#64ffda") + geom_rect(aes(xmin=0,xmax=38,ymin=23,ymax=32), alpha=0.4,fill="#ffff00")+geom_point(data=all,aes(x=matchday,y=player,color=lineup,size=3)) + scale_y_discrete(limits=c("Petr Cech", "David Ospina", "Emiliano Martínez","Matt Macey","Héctor Bellerín", "Carl Jenkinson", "Mathieu Debuchy","Nacho Monreal", "Kieran Gibbs","Rob Holding", "Calum Chambers", "Laurent Koscielny", "Shkodran Mustafi", "Gabriel Paulista", "Per Mertesacker","Mohamed Elneny","Granit Xhaka", "Francis Coquelin", "Santi Cazorla", "Aaron Ramsey","Jack Wilshere","Jeff Reine-Adelaide","Mesut Özil","Alex Oxlade-Chamberlain", "Ainsley Maitland-Niles","Alex Iwobi", "Alexis Sánchez","Theo Walcott", "Danny Welbeck","Lucas Pérez","Chuba Akpom", "Olivier Giroud"))+ labs(x="Matchday", y="Players",title="Arsenal Team Rotation",subtitle="2016-2017 season",caption="by Benoit Pimpaud / @Ben8t") + theme_ipsum_rc()
ggplot() + geom_rect(aes(xmin=0,xmax=38,ymin=0,ymax=4), alpha=0.4,fill="#1976d2") + geom_rect(aes(xmin=0,xmax=38,ymin=4,ymax=15), alpha=0.4,fill="#00bfa5") + geom_rect(aes(xmin=0,xmax=38,ymin=15,ymax=23), alpha=0.4,fill="#64ffda") + geom_rect(aes(xmin=0,xmax=38,ymin=23,ymax=32), alpha=0.4,fill="#ffff00")+geom_point(data=all,aes(x=matchday,y=player,color=lineup),size=2) + scale_y_discrete(limits=c("Petr Cech", "David Ospina", "Emiliano Martínez","Matt Macey","Héctor Bellerín", "Carl Jenkinson", "Mathieu Debuchy","Nacho Monreal", "Kieran Gibbs","Rob Holding", "Calum Chambers", "Laurent Koscielny", "Shkodran Mustafi", "Gabriel Paulista", "Per Mertesacker","Mohamed Elneny","Granit Xhaka", "Francis Coquelin", "Santi Cazorla", "Aaron Ramsey","Jack Wilshere","Jeff Reine-Adelaide","Mesut Özil","Alex Oxlade-Chamberlain", "Ainsley Maitland-Niles","Alex Iwobi", "Alexis Sánchez","Theo Walcott", "Danny Welbeck","Lucas Pérez","Chuba Akpom", "Olivier Giroud"))+ labs(x="Matchday", y="Players",title="Arsenal Team Rotation",subtitle="2016-2017 season",caption="by Benoit Pimpaud / @Ben8t") + theme_ipsum_rc()
ggplot() + geom_rect(aes(xmin=0,xmax=38,ymin=0,ymax=4), alpha=0.4,fill="#1976d2") + geom_rect(aes(xmin=0,xmax=38,ymin=4,ymax=15), alpha=0.4,fill="#00bfa5") + geom_rect(aes(xmin=0,xmax=38,ymin=15,ymax=23), alpha=0.4,fill="#64ffda") + geom_rect(aes(xmin=0,xmax=38,ymin=23,ymax=32), alpha=0.4,fill="#ffff00")+geom_point(data=all,aes(x=matchday,y=player,color=lineup),size=2) scale_colour_manual(values="#ff9800","#00e676")  + scale_y_discrete(limits=c("Petr Cech", "David Ospina", "Emiliano Martínez","Matt Macey","Héctor Bellerín", "Carl Jenkinson", "Mathieu Debuchy","Nacho Monreal", "Kieran Gibbs","Rob Holding", "Calum Chambers", "Laurent Koscielny", "Shkodran Mustafi", "Gabriel Paulista", "Per Mertesacker","Mohamed Elneny","Granit Xhaka", "Francis Coquelin", "Santi Cazorla", "Aaron Ramsey","Jack Wilshere","Jeff Reine-Adelaide","Mesut Özil","Alex Oxlade-Chamberlain", "Ainsley Maitland-Niles","Alex Iwobi", "Alexis Sánchez","Theo Walcott", "Danny Welbeck","Lucas Pérez","Chuba Akpom", "Olivier Giroud"))+ labs(x="Matchday", y="Players",title="Arsenal Team Rotation",subtitle="2016-2017 season",caption="by Benoit Pimpaud / @Ben8t") + theme_ipsum_rc()
ggplot() + geom_rect(aes(xmin=0,xmax=38,ymin=0,ymax=4), alpha=0.4,fill="#1976d2") + geom_rect(aes(xmin=0,xmax=38,ymin=4,ymax=15), alpha=0.4,fill="#00bfa5") + geom_rect(aes(xmin=0,xmax=38,ymin=15,ymax=23), alpha=0.4,fill="#64ffda") + geom_rect(aes(xmin=0,xmax=38,ymin=23,ymax=32), alpha=0.4,fill="#ffff00")+geom_point(data=all,aes(x=matchday,y=player,color=lineup),size=2) + scale_colour_manual(values="#ff9800","#00e676")  + scale_y_discrete(limits=c("Petr Cech", "David Ospina", "Emiliano Martínez","Matt Macey","Héctor Bellerín", "Carl Jenkinson", "Mathieu Debuchy","Nacho Monreal", "Kieran Gibbs","Rob Holding", "Calum Chambers", "Laurent Koscielny", "Shkodran Mustafi", "Gabriel Paulista", "Per Mertesacker","Mohamed Elneny","Granit Xhaka", "Francis Coquelin", "Santi Cazorla", "Aaron Ramsey","Jack Wilshere","Jeff Reine-Adelaide","Mesut Özil","Alex Oxlade-Chamberlain", "Ainsley Maitland-Niles","Alex Iwobi", "Alexis Sánchez","Theo Walcott", "Danny Welbeck","Lucas Pérez","Chuba Akpom", "Olivier Giroud"))+ labs(x="Matchday", y="Players",title="Arsenal Team Rotation",subtitle="2016-2017 season",caption="by Benoit Pimpaud / @Ben8t") + theme_ipsum_rc()
# b=unique(all %>% select(player,post)) %>% arrange(desc(post))
ggplot() + geom_rect(aes(xmin=0,xmax=38,ymin=0,ymax=4), alpha=0.4,fill="#1976d2") + geom_rect(aes(xmin=0,xmax=38,ymin=4,ymax=15), alpha=0.4,fill="#00bfa5") + geom_rect(aes(xmin=0,xmax=38,ymin=15,ymax=23), alpha=0.4,fill="#64ffda") + geom_rect(aes(xmin=0,xmax=38,ymin=23,ymax=32), alpha=0.4,fill="#ffff00")+geom_point(data=all,aes(x=matchday,y=player,color=lineup),size=2) + scale_colour_manual(values=c("#ff9800","#00e676")) + scale_y_discrete(limits=c("Petr Cech", "David Ospina", "Emiliano Martínez","Matt Macey","Héctor Bellerín", "Carl Jenkinson", "Mathieu Debuchy","Nacho Monreal", "Kieran Gibbs","Rob Holding", "Calum Chambers", "Laurent Koscielny", "Shkodran Mustafi", "Gabriel Paulista", "Per Mertesacker","Mohamed Elneny","Granit Xhaka", "Francis Coquelin", "Santi Cazorla", "Aaron Ramsey","Jack Wilshere","Jeff Reine-Adelaide","Mesut Özil","Alex Oxlade-Chamberlain", "Ainsley Maitland-Niles","Alex Iwobi", "Alexis Sánchez","Theo Walcott", "Danny Welbeck","Lucas Pérez","Chuba Akpom", "Olivier Giroud"))+ labs(x="Matchday", y="Players",title="Arsenal Team Rotation",subtitle="2016-2017 season",caption="by Benoit Pimpaud / @Ben8t") + theme_ipsum_rc()
ggplot() + geom_rect(aes(xmin=0,xmax=38,ymin=0,ymax=4), alpha=0.4,fill="#29b6f6") + geom_rect(aes(xmin=0,xmax=38,ymin=4,ymax=15), alpha=0.4,fill="#00bfa5") + geom_rect(aes(xmin=0,xmax=38,ymin=15,ymax=23), alpha=0.4,fill="#64ffda") + geom_rect(aes(xmin=0,xmax=38,ymin=23,ymax=32), alpha=0.4,fill="#ffff00")+geom_point(data=all,aes(x=matchday,y=player,color=lineup),size=2) + scale_colour_manual(values=c("#ff9800","#00e676")) + scale_y_discrete(limits=c("Petr Cech", "David Ospina", "Emiliano Martínez","Matt Macey","Héctor Bellerín", "Carl Jenkinson", "Mathieu Debuchy","Nacho Monreal", "Kieran Gibbs","Rob Holding", "Calum Chambers", "Laurent Koscielny", "Shkodran Mustafi", "Gabriel Paulista", "Per Mertesacker","Mohamed Elneny","Granit Xhaka", "Francis Coquelin", "Santi Cazorla", "Aaron Ramsey","Jack Wilshere","Jeff Reine-Adelaide","Mesut Özil","Alex Oxlade-Chamberlain", "Ainsley Maitland-Niles","Alex Iwobi", "Alexis Sánchez","Theo Walcott", "Danny Welbeck","Lucas Pérez","Chuba Akpom", "Olivier Giroud"))+ labs(x="Matchday", y="Players",title="Arsenal Team Rotation",subtitle="2016-2017 season",caption="by Benoit Pimpaud / @Ben8t") + theme_ipsum_rc()
ggplot() + geom_rect(aes(xmin=0,xmax=38,ymin=0,ymax=4), alpha=0.4,fill="#29b6f6") + geom_rect(aes(xmin=0,xmax=38,ymin=4,ymax=15), alpha=0.4,fill="#00bfa5") + geom_rect(aes(xmin=0,xmax=38,ymin=15,ymax=23), alpha=0.4,fill="#64ffda") + geom_rect(aes(xmin=0,xmax=38,ymin=23,ymax=32), alpha=0.4,fill="#ffff00")+geom_point(data=all,aes(x=matchday,y=player,color=lineup),size=2) + scale_colour_manual(values=c("#ff9800","#00e676")) + scale_y_discrete(limits=c("Petr Cech", "David Ospina", "Emiliano Martínez","Matt Macey","","Héctor Bellerín", "Carl Jenkinson", "Mathieu Debuchy","Nacho Monreal", "Kieran Gibbs","Rob Holding", "Calum Chambers", "Laurent Koscielny", "Shkodran Mustafi", "Gabriel Paulista", "Per Mertesacker","Mohamed Elneny","Granit Xhaka", "Francis Coquelin", "Santi Cazorla", "Aaron Ramsey","Jack Wilshere","Jeff Reine-Adelaide","Mesut Özil","Alex Oxlade-Chamberlain", "Ainsley Maitland-Niles","Alex Iwobi", "Alexis Sánchez","Theo Walcott", "Danny Welbeck","Lucas Pérez","Chuba Akpom", "Olivier Giroud"))+ labs(x="Matchday", y="Players",title="Arsenal Team Rotation",subtitle="2016-2017 season",caption="by Benoit Pimpaud / @Ben8t") + theme_ipsum_rc()
ggplot() +geom_point(data=all,aes(x=matchday,y=player,color=lineup),size=2) + scale_colour_manual(values=c("#ff9800","#00e676")) + scale_y_discrete(limits=c("Petr Cech", "David Ospina", "Emiliano Martínez","Matt Macey","","Héctor Bellerín", "Carl Jenkinson", "Mathieu Debuchy","Nacho Monreal", "Kieran Gibbs","Rob Holding", "Calum Chambers", "Laurent Koscielny", "Shkodran Mustafi", "Gabriel Paulista", "Per Mertesacker","","Mohamed Elneny","Granit Xhaka", "Francis Coquelin", "Santi Cazorla", "Aaron Ramsey","Jack Wilshere","Jeff Reine-Adelaide","Mesut Özil","","Alex Oxlade-Chamberlain", "Ainsley Maitland-Niles","Alex Iwobi", "Alexis Sánchez","Theo Walcott","","Danny Welbeck","Lucas Pérez","Chuba Akpom", "Olivier Giroud"))+ labs(x="Matchday", y="Players",title="Arsenal Team Rotation",subtitle="2016-2017 season",caption="by Benoit Pimpaud / @Ben8t") + theme_ipsum_rc()
ggplot() +geom_point(data=all,aes(x=matchday,y=player,color=lineup),size=2) + scale_colour_manual(values=c("#ff9800","#00e676")) + scale_y_discrete(limits=c("Petr Cech", "David Ospina", "Emiliano Martínez","Matt Macey","","Héctor Bellerín","Carl Jenkinson", "Mathieu Debuchy","Nacho Monreal", "Kieran Gibbs","Rob Holding", "Calum Chambers", "Laurent Koscielny", "Shkodran Mustafi", "Gabriel Paulista", "Per Mertesacker","","Mohamed Elneny","Granit Xhaka", "Francis Coquelin", "Santi Cazorla", "Aaron Ramsey","Jack Wilshere","Jeff Reine-Adelaide","Mesut Özil","","Alex Oxlade-Chamberlain", "Ainsley Maitland-Niles","Alex Iwobi", "Alexis Sánchez","Theo Walcott","","Danny Welbeck","Lucas Pérez","Chuba Akpom", "Olivier Giroud"))+ labs(x="Matchday", y="Players",title="Arsenal Team Rotation",subtitle="2016-2017 season",caption="by Benoit Pimpaud / @Ben8t") + theme_ipsum_rc()
ggplot() +geom_point(data=all,aes(x=matchday,y=player,color=lineup),size=2) + scale_colour_manual(values=c("#ff9800","#00e676")) + scale_y_discrete(limits=c("Petr Cech", "David Ospina", "Emiliano Martínez","Matt Macey","","Héctor Bellerín","Carl Jenkinson", "Mathieu Debuchy","Nacho Monreal", "Kieran Gibbs", "Laurent Koscielny", "Shkodran Mustafi", "Gabriel Paulista", "Per Mertesacker","Rob Holding", "Calum Chambers","","Mohamed Elneny","Granit Xhaka", "Francis Coquelin", "Santi Cazorla", "Aaron Ramsey","Jack Wilshere","Jeff Reine-Adelaide","Mesut Özil","","Alex Oxlade-Chamberlain", "Ainsley Maitland-Niles","Alex Iwobi", "Alexis Sánchez","Theo Walcott","","Danny Welbeck","Lucas Pérez","Chuba Akpom", "Olivier Giroud"))+ labs(x="Matchday", y="Players",title="Arsenal Team Rotation",subtitle="2016-2017 season",caption="by Benoit Pimpaud / @Ben8t") + theme_ipsum_rc()
ggplot() +geom_point(data=all,aes(x=matchday,y=player,color=lineup),size=2) + scale_colour_manual(values=c("#ffb74d","#64ffda")) + scale_y_discrete(limits=c("Petr Cech", "David Ospina", "Emiliano Martínez","Matt Macey","","Héctor Bellerín","Carl Jenkinson", "Mathieu Debuchy","Nacho Monreal", "Kieran Gibbs", "Laurent Koscielny", "Shkodran Mustafi", "Gabriel Paulista", "Per Mertesacker","Rob Holding", "Calum Chambers","","Mohamed Elneny","Granit Xhaka", "Francis Coquelin", "Santi Cazorla", "Aaron Ramsey","Jack Wilshere","Jeff Reine-Adelaide","Mesut Özil","","Alex Oxlade-Chamberlain", "Ainsley Maitland-Niles","Alex Iwobi", "Alexis Sánchez","Theo Walcott","","Danny Welbeck","Lucas Pérez","Chuba Akpom", "Olivier Giroud"))+ labs(x="Matchday", y="Players",title="Arsenal Team Rotation",subtitle="2016-2017 season",caption="by Benoit Pimpaud / @Ben8t") + theme_ipsum_rc()
ggplot() +geom_point(data=all,aes(x=matchday,y=player,color=lineup),size=2) + scale_colour_manual(values=c("#ff1744","#00bfa5")) + scale_y_discrete(limits=c("Petr Cech", "David Ospina", "Emiliano Martínez","Matt Macey","","Héctor Bellerín","Carl Jenkinson", "Mathieu Debuchy","Nacho Monreal", "Kieran Gibbs", "Laurent Koscielny", "Shkodran Mustafi", "Gabriel Paulista", "Per Mertesacker","Rob Holding", "Calum Chambers","","Mohamed Elneny","Granit Xhaka", "Francis Coquelin", "Santi Cazorla", "Aaron Ramsey","Jack Wilshere","Jeff Reine-Adelaide","Mesut Özil","","Alex Oxlade-Chamberlain", "Ainsley Maitland-Niles","Alex Iwobi", "Alexis Sánchez","Theo Walcott","","Danny Welbeck","Lucas Pérez","Chuba Akpom", "Olivier Giroud"))+ labs(x="Matchday", y="Players",title="Arsenal Team Rotation",subtitle="2016-2017 season",caption="by Benoit Pimpaud / @Ben8t") + theme_ipsum_rc()
ggplot() +geom_point(data=all,aes(x=matchday,y=player,color=lineup),size=2) + scale_colour_manual(values=c("#ff7043","#00bfa5")) + scale_y_discrete(limits=c("Petr Cech", "David Ospina", "Emiliano Martínez","Matt Macey","","Héctor Bellerín","Carl Jenkinson", "Mathieu Debuchy","Nacho Monreal", "Kieran Gibbs", "Laurent Koscielny", "Shkodran Mustafi", "Gabriel Paulista", "Per Mertesacker","Rob Holding", "Calum Chambers","","Mohamed Elneny","Granit Xhaka", "Francis Coquelin", "Santi Cazorla", "Aaron Ramsey","Jack Wilshere","Jeff Reine-Adelaide","Mesut Özil","","Alex Oxlade-Chamberlain", "Ainsley Maitland-Niles","Alex Iwobi", "Alexis Sánchez","Theo Walcott","","Danny Welbeck","Lucas Pérez","Chuba Akpom", "Olivier Giroud"))+ labs(x="Matchday", y="Players",title="Arsenal Team Rotation",subtitle="2016-2017 season",caption="by Benoit Pimpaud / @Ben8t") + theme_ipsum_rc()
ggplot() +geom_point(data=all,aes(x=matchday,y=player,color=lineup),size=2) + scale_colour_manual(values=c("#ff8a65","#4db6ac")) + scale_y_discrete(limits=c("Petr Cech", "David Ospina", "Emiliano Martínez","Matt Macey","","Héctor Bellerín","Carl Jenkinson", "Mathieu Debuchy","Nacho Monreal", "Kieran Gibbs", "Laurent Koscielny", "Shkodran Mustafi", "Gabriel Paulista", "Per Mertesacker","Rob Holding", "Calum Chambers","","Mohamed Elneny","Granit Xhaka", "Francis Coquelin", "Santi Cazorla", "Aaron Ramsey","Jack Wilshere","Jeff Reine-Adelaide","Mesut Özil","","Alex Oxlade-Chamberlain", "Ainsley Maitland-Niles","Alex Iwobi", "Alexis Sánchez","Theo Walcott","","Danny Welbeck","Lucas Pérez","Chuba Akpom", "Olivier Giroud"))+ labs(x="Matchday", y="Players",title="Arsenal Team Rotation",subtitle="2016-2017 season",caption="by Benoit Pimpaud / @Ben8t") + theme_ipsum_rc()
ggplot() +geom_point(data=all,aes(x=matchday,y=player,color=lineup),size=2) + scale_colour_manual(values=c("#ff8a65","#4db6ac")) + scale_y_discrete(limits=c("Petr Cech", "David Ospina", "Emiliano Martínez","Matt Macey","","Héctor Bellerín","Carl Jenkinson", "Mathieu Debuchy","Nacho Monreal", "Kieran Gibbs", "Laurent Koscielny", "Shkodran Mustafi", "Gabriel Paulista", "Per Mertesacker","Rob Holding", "Calum Chambers","","Mohamed Elneny","Granit Xhaka", "Francis Coquelin", "Santi Cazorla", "Aaron Ramsey","Jack Wilshere","Jeff Reine-Adelaide","Mesut Özil","","Alex Oxlade-Chamberlain", "Ainsley Maitland-Niles","Alex Iwobi", "Alexis Sánchez","Theo Walcott","","Danny Welbeck","Lucas Pérez","Chuba Akpom", "Olivier Giroud"))+ scale_x_continuous(limits=c(1:38))+labs(x="Matchday", y="Players",title="Arsenal Team Rotation",subtitle="2016-2017 season",caption="by Benoit Pimpaud / @Ben8t") + theme_ipsum_rc()
ggplot() +geom_point(data=all,aes(x=matchday,y=player,color=lineup),size=2) + scale_colour_manual(values=c("#ff8a65","#4db6ac")) + scale_y_discrete(limits=c("Petr Cech", "David Ospina", "Emiliano Martínez","Matt Macey","","Héctor Bellerín","Carl Jenkinson", "Mathieu Debuchy","Nacho Monreal", "Kieran Gibbs", "Laurent Koscielny", "Shkodran Mustafi", "Gabriel Paulista", "Per Mertesacker","Rob Holding", "Calum Chambers","","Mohamed Elneny","Granit Xhaka", "Francis Coquelin", "Santi Cazorla", "Aaron Ramsey","Jack Wilshere","Jeff Reine-Adelaide","Mesut Özil","","Alex Oxlade-Chamberlain", "Ainsley Maitland-Niles","Alex Iwobi", "Alexis Sánchez","Theo Walcott","","Danny Welbeck","Lucas Pérez","Chuba Akpom", "Olivier Giroud"))+ scale_x_continuous(limits=c(1,38))+labs(x="Matchday", y="Players",title="Arsenal Team Rotation",subtitle="2016-2017 season",caption="by Benoit Pimpaud / @Ben8t") + theme_ipsum_rc()
ggplot() +geom_point(data=all,aes(x=matchday,y=player,color=lineup),size=2) + scale_colour_manual(values=c("#ff8a65","#4db6ac")) + scale_y_discrete(limits=c("Petr Cech", "David Ospina", "Emiliano Martínez","Matt Macey","","Héctor Bellerín","Carl Jenkinson", "Mathieu Debuchy","Nacho Monreal", "Kieran Gibbs", "Laurent Koscielny", "Shkodran Mustafi", "Gabriel Paulista", "Per Mertesacker","Rob Holding", "Calum Chambers","","Mohamed Elneny","Granit Xhaka", "Francis Coquelin", "Santi Cazorla", "Aaron Ramsey","Jack Wilshere","Jeff Reine-Adelaide","Mesut Özil","","Alex Oxlade-Chamberlain", "Ainsley Maitland-Niles","Alex Iwobi", "Alexis Sánchez","Theo Walcott","","Danny Welbeck","Lucas Pérez","Chuba Akpom", "Olivier Giroud"))+ scale_x_continuous(breaks=c(1,38))+labs(x="Matchday", y="Players",title="Arsenal Team Rotation",subtitle="2016-2017 season",caption="by Benoit Pimpaud / @Ben8t") + theme_ipsum_rc()
ggplot() +geom_point(data=all,aes(x=matchday,y=player,color=lineup),size=2) + scale_colour_manual(values=c("#ff8a65","#4db6ac")) + scale_y_discrete(limits=c("Petr Cech", "David Ospina", "Emiliano Martínez","Matt Macey","","Héctor Bellerín","Carl Jenkinson", "Mathieu Debuchy","Nacho Monreal", "Kieran Gibbs", "Laurent Koscielny", "Shkodran Mustafi", "Gabriel Paulista", "Per Mertesacker","Rob Holding", "Calum Chambers","","Mohamed Elneny","Granit Xhaka", "Francis Coquelin", "Santi Cazorla", "Aaron Ramsey","Jack Wilshere","Jeff Reine-Adelaide","Mesut Özil","","Alex Oxlade-Chamberlain", "Ainsley Maitland-Niles","Alex Iwobi", "Alexis Sánchez","Theo Walcott","","Danny Welbeck","Lucas Pérez","Chuba Akpom", "Olivier Giroud"))+ scale_x_continuous(breaks=c(1,10,20,30,38))+labs(x="Matchday", y="Players",title="Arsenal Team Rotation",subtitle="2016-2017 season",caption="by Benoit Pimpaud / @Ben8t") + theme_ipsum_rc()
ggplot() +geom_point(data=all,aes(x=matchday,y=player,color=lineup),size=2) + scale_colour_manual(values=c("#ff8a65","#4db6ac")) + scale_y_discrete(limits=c("Petr Cech", "David Ospina", "Emiliano Martínez","Matt Macey","","Héctor Bellerín","Carl Jenkinson", "Mathieu Debuchy","Nacho Monreal", "Kieran Gibbs", "Laurent Koscielny", "Shkodran Mustafi", "Gabriel Paulista", "Per Mertesacker","Rob Holding", "Calum Chambers","","Mohamed Elneny","Granit Xhaka", "Francis Coquelin", "Santi Cazorla", "Aaron Ramsey","Jack Wilshere","Jeff Reine-Adelaide","Mesut Özil","","Alex Oxlade-Chamberlain", "Ainsley Maitland-Niles","Alex Iwobi", "Alexis Sánchez","Theo Walcott","","Danny Welbeck","Lucas Pérez","Chuba Akpom", "Olivier Giroud"))+ scale_x_continuous(breaks=c(1,10,20,30,38))+labs(x="Matchday",title="Arsenal Team Rotation",subtitle="2016-2017 season",caption="by Benoit Pimpaud / @Ben8t") + theme_ipsum_rc()
ggplot() +geom_point(data=all,aes(x=matchday,y=player,color=lineup),size=2) + scale_colour_manual(values=c("#ff8a65","#4db6ac")) + scale_y_discrete(limits=c("Petr Cech", "David Ospina", "Emiliano Martínez","Matt Macey","","Héctor Bellerín","Carl Jenkinson", "Mathieu Debuchy","Nacho Monreal", "Kieran Gibbs", "Laurent Koscielny", "Shkodran Mustafi", "Gabriel Paulista", "Per Mertesacker","Rob Holding", "Calum Chambers","","Mohamed Elneny","Granit Xhaka", "Francis Coquelin", "Santi Cazorla", "Aaron Ramsey","Jack Wilshere","Jeff Reine-Adelaide","Mesut Özil","","Alex Oxlade-Chamberlain", "Ainsley Maitland-Niles","Alex Iwobi", "Alexis Sánchez","Theo Walcott","","Danny Welbeck","Lucas Pérez","Chuba Akpom", "Olivier Giroud"))+ scale_x_continuous(breaks=c(1,10,20,30,38))+labs(x="Matchday", y="",title="Arsenal Team Rotation",subtitle="2016-2017 season",caption="by Benoit Pimpaud / @Ben8t") + theme_ipsum_rc()
write.csv2(all,"arsenal_lineup.csv",row.names=FALSE)
all = read.csv2("arsenal_lineup.csv")
View(all)
ggplot() +geom_point(data=all,aes(x=matchday,y=player,color=lineup),size=2) + scale_colour_manual(values=c("#ff8a65","#4db6ac")) + scale_y_discrete(limits=c("Petr Cech", "David Ospina", "Emiliano Martínez","Matt Macey","","Héctor Bellerín","Carl Jenkinson", "Mathieu Debuchy","Nacho Monreal", "Kieran Gibbs", "Laurent Koscielny", "Shkodran Mustafi", "Gabriel Paulista", "Per Mertesacker","Rob Holding", "Calum Chambers","","Mohamed Elneny","Granit Xhaka", "Francis Coquelin", "Santi Cazorla", "Aaron Ramsey","Jack Wilshere","Jeff Reine-Adelaide","Mesut Özil","","Alex Oxlade-Chamberlain", "Ainsley Maitland-Niles","Alex Iwobi", "Alexis Sánchez","Theo Walcott","","Danny Welbeck","Lucas Pérez","Chuba Akpom", "Olivier Giroud"))+ scale_x_continuous(breaks=c(1,10,20,30,38))+labs(x="Matchday", y="",title="Arsenal Squad Rotation",subtitle="2016-2017 season",caption="by Benoit Pimpaud / @Ben8t") + theme_ipsum_rc()
all = read.csv2("arsenal_lineup.csv")
ggplot() +geom_point(data=all,aes(x=matchday,y=player,color=lineup),size=2) + scale_colour_manual(values=c("#ff8a65","#4db6ac")) + scale_y_discrete(limits=c("Petr Cech", "David Ospina", "Emiliano Martínez","Matt Macey","","Héctor Bellerín","Carl Jenkinson", "Mathieu Debuchy","Nacho Monreal", "Kieran Gibbs", "Laurent Koscielny", "Shkodran Mustafi", "Gabriel Paulista", "Per Mertesacker","Rob Holding", "Calum Chambers","","Granit Xhaka","Aaron Ramsey", "Santi Cazorla","Mesut Özil","Francis Coquelin", "Mohamed Elneny","Jack Wilshere","Jeff Reine-Adelaide","","Alex Oxlade-Chamberlain", "Ainsley Maitland-Niles","Alex Iwobi", "Alexis Sánchez","Theo Walcott","","Danny Welbeck","Lucas Pérez","Chuba Akpom", "Olivier Giroud"))+ scale_x_continuous(breaks=c(1,10,20,30,38))+labs(x="Matchday", y="",title="Arsenal Squad Rotation",subtitle="2016-2017 season",caption="by Benoit Pimpaud / @Ben8t") + theme_ipsum_rc()
ggplot() +geom_point(data=all,aes(x=matchday,y=player,color=lineup),size=2) + scale_colour_manual(values=c("#ff8a65","#4db6ac")) + scale_y_discrete(limits=c("Petr Cech", "David Ospina", "Emiliano Martínez","Matt Macey","","Héctor Bellerín","Carl Jenkinson", "Mathieu Debuchy","Nacho Monreal", "Kieran Gibbs", "Laurent Koscielny", "Shkodran Mustafi", "Gabriel Paulista", "Per Mertesacker","Rob Holding", "Calum Chambers","","Granit Xhaka","Aaron Ramsey", "Santi Cazorla","Mesut Özil","Francis Coquelin", "Mohamed Elneny","Jack Wilshere","Jeff Reine-Adelaide","","Alex Oxlade-Chamberlain", "Ainsley Maitland-Niles","Alex Iwobi", "Theo Walcott","Alexis Sánchez","","Olivier Giroud","Danny Welbeck","Lucas Pérez","Chuba Akpom"))+ scale_x_continuous(breaks=c(1,10,20,30,38))+labs(x="Matchday", y="",title="Arsenal Squad Rotation",subtitle="2016-2017 season",caption="by Benoit Pimpaud / @Ben8t") + theme_ipsum_rc()
ggplot() +geom_point(data=all,aes(x=matchday,y=player,color=lineup),size=2) + scale_colour_manual(values=c("#ff8a65","#4db6ac")) + scale_y_discrete(limits=c("Petr Cech", "David Ospina", "Emiliano Martínez","Matt Macey","","Héctor Bellerín","Carl Jenkinson", "Mathieu Debuchy","Nacho Monreal", "Kieran Gibbs", "Laurent Koscielny", "Shkodran Mustafi", "Gabriel Paulista", "Per Mertesacker","Rob Holding", "Calum Chambers","","Granit Xhaka","Aaron Ramsey", "Santi Cazorla","Mesut Özil","Francis Coquelin", "Mohamed Elneny","Jack Wilshere","Jeff Reine-Adelaide","","Alex Oxlade-Chamberlain", "Ainsley Maitland-Niles","Alex Iwobi", "Theo Walcott","Alexis Sánchez","","Olivier Giroud","Danny Welbeck","Lucas Pérez","Chuba Akpom"))+ scale_x_continuous(breaks=c(1,10,20,30,38))+labs(x="Matchday", y="",title="Arsenal Squad Rotation",subtitle="2016-2017 season",caption="by Benoit Pimpaud / @Ben8t",color="") + theme_ipsum_rc()
all = read.csv2("arsenal_lineup.csv")
ggplot() +geom_point(data=all,aes(x=matchday,y=player,color=lineup),size=2) + scale_colour_manual(values=c("#ff8a65","#4db6ac")) + scale_y_discrete(limits=c("Petr Cech", "David Ospina", "Emiliano Martínez","Matt Macey","","Héctor Bellerín","Carl Jenkinson", "Mathieu Debuchy","Nacho Monreal", "Kieran Gibbs", "Laurent Koscielny", "Shkodran Mustafi", "Gabriel Paulista", "Per Mertesacker","Rob Holding", "Calum Chambers","","Granit Xhaka","Aaron Ramsey", "Santi Cazorla","Mesut Özil","Francis Coquelin", "Mohamed Elneny","Jack Wilshere","Jeff Reine-Adelaide","","Alex Oxlade-Chamberlain", "Ainsley Maitland-Niles","Alex Iwobi", "Theo Walcott","Alexis Sánchez","","Olivier Giroud","Danny Welbeck","Lucas Pérez","Chuba Akpom"))+ scale_x_continuous(breaks=c(1,10,20,30,38))+labs(x="Matchday", y="",title="Arsenal Squad Rotation",subtitle="2016-2017 season",caption="by Benoit Pimpaud / @Ben8t",color="") + theme_ipsum_rc() + theme(legend.position="top")
ggplot() +geom_point(data=all,aes(x=matchday,y=player,color=lineup),size=2) + scale_colour_manual(values=c("#ff8a65","#4db6ac")) + scale_y_discrete(limits=c("Petr Cech", "David Ospina", "Emiliano Martínez","Matt Macey","","Héctor Bellerín","Carl Jenkinson", "Mathieu Debuchy","Nacho Monreal", "Kieran Gibbs", "Laurent Koscielny", "Shkodran Mustafi", "Gabriel Paulista", "Per Mertesacker","Rob Holding", "Calum Chambers","","Granit Xhaka","Aaron Ramsey", "Santi Cazorla","Mesut Özil","Francis Coquelin", "Mohamed Elneny","Jack Wilshere","Jeff Reine-Adelaide","","Alex Oxlade-Chamberlain", "Ainsley Maitland-Niles","Alex Iwobi", "Theo Walcott","Alexis Sánchez","","Olivier Giroud","Danny Welbeck","Lucas Pérez","Chuba Akpom"))+ scale_x_continuous(breaks=c(1,10,20,30,38))+labs(x="Matchday", y="",title="Arsenal Squad Rotation",subtitle="2016-2017 season",caption="by Benoit Pimpaud / @Ben8t",color="") + theme_ipsum_rc() + theme(legend.position="bottom")
ggplot() +geom_point(data=all,aes(x=matchday,y=player,color=lineup),size=2) + scale_colour_manual(values=c("#ff8a65","#4db6ac")) + scale_y_discrete(limits=c("Petr Cech", "David Ospina", "Emiliano Martínez","Matt Macey","","Héctor Bellerín","Carl Jenkinson", "Mathieu Debuchy","Nacho Monreal", "Kieran Gibbs", "Laurent Koscielny", "Shkodran Mustafi", "Gabriel Paulista", "Per Mertesacker","Rob Holding", "Calum Chambers","","Granit Xhaka","Aaron Ramsey", "Santi Cazorla","Mesut Özil","Francis Coquelin", "Mohamed Elneny","Jack Wilshere","Jeff Reine-Adelaide","","Alex Oxlade-Chamberlain", "Ainsley Maitland-Niles","Alex Iwobi", "Theo Walcott","Alexis Sánchez","","Olivier Giroud","Danny Welbeck","Lucas Pérez","Chuba Akpom"))+ scale_x_continuous(breaks=c(1,10,20,30,38))+labs(x="Matchday", y="",title="Arsenal Squad Rotation",subtitle="2016-2017 season",caption="by Benoit Pimpaud / @Ben8t",color="") + theme_ipsum_rc()
ggplot() +geom_point(data=all,aes(x=matchday,y=player,color=lineup),size=2) + scale_colour_manual(values=c("#ff5252","#2979ff")) + scale_y_discrete(limits=c("Petr Cech", "David Ospina", "Emiliano Martínez","Matt Macey","","Héctor Bellerín","Carl Jenkinson", "Mathieu Debuchy","Nacho Monreal", "Kieran Gibbs", "Laurent Koscielny", "Shkodran Mustafi", "Gabriel Paulista", "Per Mertesacker","Rob Holding", "Calum Chambers","","Granit Xhaka","Aaron Ramsey", "Santi Cazorla","Mesut Özil","Francis Coquelin", "Mohamed Elneny","Jack Wilshere","Jeff Reine-Adelaide","","Alex Oxlade-Chamberlain", "Ainsley Maitland-Niles","Alex Iwobi", "Theo Walcott","Alexis Sánchez","","Olivier Giroud","Danny Welbeck","Lucas Pérez","Chuba Akpom"))+ scale_x_continuous(breaks=c(1,10,20,30,38))+labs(x="Matchday", y="",title="Arsenal Squad Rotation",subtitle="2016-2017 season",caption="by Benoit Pimpaud / @Ben8t",color="") + theme_ipsum_rc()
ggplot() +geom_point(data=all,aes(x=matchday,y=player,color=lineup),size=2) + scale_colour_manual(values=c("#ef5350","#42a5f5")) + scale_y_discrete(limits=c("Petr Cech", "David Ospina", "Emiliano Martínez","Matt Macey","","Héctor Bellerín","Carl Jenkinson", "Mathieu Debuchy","Nacho Monreal", "Kieran Gibbs", "Laurent Koscielny", "Shkodran Mustafi", "Gabriel Paulista", "Per Mertesacker","Rob Holding", "Calum Chambers","","Granit Xhaka","Aaron Ramsey", "Santi Cazorla","Mesut Özil","Francis Coquelin", "Mohamed Elneny","Jack Wilshere","Jeff Reine-Adelaide","","Alex Oxlade-Chamberlain", "Ainsley Maitland-Niles","Alex Iwobi", "Theo Walcott","Alexis Sánchez","","Olivier Giroud","Danny Welbeck","Lucas Pérez","Chuba Akpom"))+ scale_x_continuous(breaks=c(1,10,20,30,38))+labs(x="Matchday", y="",title="Arsenal Squad Rotation",subtitle="2016-2017 season",caption="by Benoit Pimpaud / @Ben8t",color="") + theme_ipsum_rc()
all = read.csv2("arsenal_lineup.csv")
ggplot() +geom_point(data=all,aes(x=matchday,y=player,color=lineup),size=2) + scale_colour_manual(values=c("#e57373","#42a5f5")) + scale_y_discrete(limits=c("Petr Cech", "David Ospina", "Emiliano Martínez","Matt Macey","","Héctor Bellerín","Carl Jenkinson", "Mathieu Debuchy","Nacho Monreal", "Kieran Gibbs", "Laurent Koscielny", "Shkodran Mustafi", "Gabriel Paulista", "Per Mertesacker","Rob Holding", "Calum Chambers","","Granit Xhaka","Aaron Ramsey", "Santi Cazorla","Mesut Özil","Francis Coquelin", "Mohamed Elneny","Jack Wilshere","Jeff Reine-Adelaide","","Alex Oxlade-Chamberlain", "Ainsley Maitland-Niles","Alex Iwobi", "Theo Walcott","Alexis Sánchez","","Olivier Giroud","Danny Welbeck","Lucas Pérez","Chuba Akpom"))+ scale_x_continuous(breaks=c(1,10,20,30,38))+labs(x="Matchday", y="",title="Arsenal Squad Rotation",subtitle="2016-2017 season",caption="by Benoit Pimpaud / @Ben8t",color="") + theme_ipsum_rc()
all = read.csv2("arsenal_lineup.csv")
ggplot() +geom_point(data=all,aes(x=matchday,y=player,color=lineup),size=2) + scale_colour_manual(values=c("#e57373","#2196f3")) + scale_y_discrete(limits=c("Petr Cech", "David Ospina", "Emiliano Martínez","Matt Macey","","Héctor Bellerín","Carl Jenkinson", "Mathieu Debuchy","Nacho Monreal", "Kieran Gibbs", "Laurent Koscielny", "Shkodran Mustafi", "Gabriel Paulista", "Per Mertesacker","Rob Holding", "Calum Chambers","","Granit Xhaka","Aaron Ramsey", "Santi Cazorla","Mesut Özil","Francis Coquelin", "Mohamed Elneny","Jack Wilshere","Jeff Reine-Adelaide","","Alex Oxlade-Chamberlain", "Ainsley Maitland-Niles","Alex Iwobi", "Theo Walcott","Alexis Sánchez","","Olivier Giroud","Danny Welbeck","Lucas Pérez","Chuba Akpom"))+ scale_x_continuous(breaks=c(1,10,20,30,38))+labs(x="Matchday", y="",title="Arsenal Squad Rotation",subtitle="2016-2017 season",caption="by Benoit Pimpaud / @Ben8t",color="") + theme_ipsum_rc()
ggplot() +geom_point(data=all,aes(x=matchday,y=player,color=lineup),size=2) + scale_colour_manual(values=c("#ffcdd2","#2196f3")) + scale_y_discrete(limits=c("Petr Cech", "David Ospina", "Emiliano Martínez","Matt Macey","","Héctor Bellerín","Carl Jenkinson", "Mathieu Debuchy","Nacho Monreal", "Kieran Gibbs", "Laurent Koscielny", "Shkodran Mustafi", "Gabriel Paulista", "Per Mertesacker","Rob Holding", "Calum Chambers","","Granit Xhaka","Aaron Ramsey", "Santi Cazorla","Mesut Özil","Francis Coquelin", "Mohamed Elneny","Jack Wilshere","Jeff Reine-Adelaide","","Alex Oxlade-Chamberlain", "Ainsley Maitland-Niles","Alex Iwobi", "Theo Walcott","Alexis Sánchez","","Olivier Giroud","Danny Welbeck","Lucas Pérez","Chuba Akpom"))+ scale_x_continuous(breaks=c(1,10,20,30,38))+labs(x="Matchday", y="",title="Arsenal Squad Rotation",subtitle="2016-2017 season",caption="by Benoit Pimpaud / @Ben8t",color="") + theme_ipsum_rc()
ggplot() +geom_point(data=all,aes(x=matchday,y=player,color=lineup),size=2) + scale_colour_manual(values=c("#ef9a9a","#2196f3")) + scale_y_discrete(limits=c("Petr Cech", "David Ospina", "Emiliano Martínez","Matt Macey","","Héctor Bellerín","Carl Jenkinson", "Mathieu Debuchy","Nacho Monreal", "Kieran Gibbs", "Laurent Koscielny", "Shkodran Mustafi", "Gabriel Paulista", "Per Mertesacker","Rob Holding", "Calum Chambers","","Granit Xhaka","Aaron Ramsey", "Santi Cazorla","Mesut Özil","Francis Coquelin", "Mohamed Elneny","Jack Wilshere","Jeff Reine-Adelaide","","Alex Oxlade-Chamberlain", "Ainsley Maitland-Niles","Alex Iwobi", "Theo Walcott","Alexis Sánchez","","Olivier Giroud","Danny Welbeck","Lucas Pérez","Chuba Akpom"))+ scale_x_continuous(breaks=c(1,10,20,30,38))+labs(x="Matchday", y="",title="Arsenal Squad Rotation",subtitle="2016-2017 season",caption="by Benoit Pimpaud / @Ben8t",color="") + theme_ipsum_rc()
ggplot() +geom_point(data=all,aes(x=matchday,y=player,color=lineup),size=2) + scale_colour_manual(values=c("#ef9a9a","#64b5f6")) + scale_y_discrete(limits=c("Petr Cech", "David Ospina", "Emiliano Martínez","Matt Macey","","Héctor Bellerín","Carl Jenkinson", "Mathieu Debuchy","Nacho Monreal", "Kieran Gibbs", "Laurent Koscielny", "Shkodran Mustafi", "Gabriel Paulista", "Per Mertesacker","Rob Holding", "Calum Chambers","","Granit Xhaka","Aaron Ramsey", "Santi Cazorla","Mesut Özil","Francis Coquelin", "Mohamed Elneny","Jack Wilshere","Jeff Reine-Adelaide","","Alex Oxlade-Chamberlain", "Ainsley Maitland-Niles","Alex Iwobi", "Theo Walcott","Alexis Sánchez","","Olivier Giroud","Danny Welbeck","Lucas Pérez","Chuba Akpom"))+ scale_x_continuous(breaks=c(1,10,20,30,38))+labs(x="Matchday", y="",title="Arsenal Squad Rotation",subtitle="2016-2017 season",caption="by Benoit Pimpaud / @Ben8t",color="") + theme_ipsum_rc()
ggplot() +geom_point(data=all,aes(x=matchday,y=player,color=lineup),size=2) + scale_colour_manual(values=c("#ffb74d","#81c784")) + scale_y_discrete(limits=c("Petr Cech", "David Ospina", "Emiliano Martínez","Matt Macey","","Héctor Bellerín","Carl Jenkinson", "Mathieu Debuchy","Nacho Monreal", "Kieran Gibbs", "Laurent Koscielny", "Shkodran Mustafi", "Gabriel Paulista", "Per Mertesacker","Rob Holding", "Calum Chambers","","Granit Xhaka","Aaron Ramsey", "Santi Cazorla","Mesut Özil","Francis Coquelin", "Mohamed Elneny","Jack Wilshere","Jeff Reine-Adelaide","","Alex Oxlade-Chamberlain", "Ainsley Maitland-Niles","Alex Iwobi", "Theo Walcott","Alexis Sánchez","","Olivier Giroud","Danny Welbeck","Lucas Pérez","Chuba Akpom"))+ scale_x_continuous(breaks=c(1,10,20,30,38))+labs(x="Matchday", y="",title="Arsenal Squad Rotation",subtitle="2016-2017 season",caption="by Benoit Pimpaud / @Ben8t",color="") + theme_ipsum_rc()
limits=c("Petr Cech", "David Ospina", "Emiliano Martínez","Matt Macey","","Héctor Bellerín","Carl Jenkinson", "Mathieu Debuchy","Nacho Monreal", "Kieran Gibbs", "Laurent Koscielny", "Shkodran Mustafi", "Gabriel Paulista", "Per Mertesacker","Rob Holding", "Calum Chambers","","Granit Xhaka","Aaron Ramsey", "Santi Cazorla","Mesut Özil","Francis Coquelin", "Mohamed Elneny","Jack Wilshere","Jeff Reine-Adelaide","","Alex Oxlade-Chamberlain", "Ainsley Maitland-Niles","Alex Iwobi", "Theo Walcott","Alexis Sánchez","","Olivier Giroud","Danny Welbeck","Lucas Pérez","Chuba Akpom"))+ scale_x_continuous(breaks=c(1,10,20,30,38))+labs(x="Matchday", y="",title="Arsenal Squad Rotation",subtitle="2016-2017 season",caption="by Benoit Pimpaud / @Ben8t",color="") + theme_ipsum_rc()
ggplot() +geom_point(data=all,aes(x=matchday,y=player,color=lineup),size=2) + scale_colour_manual(values=c("#ffb74d","#4caf50")) + scale_y_discrete(limits=c("Petr Cech", "David Ospina", "Emiliano Martínez","Matt Macey","","Héctor Bellerín","Carl Jenkinson", "Mathieu Debuchy","Nacho Monreal", "Kieran Gibbs", "Laurent Koscielny", "Shkodran Mustafi", "Gabriel Paulista", "Per Mertesacker","Rob Holding", "Calum Chambers","","Granit Xhaka","Aaron Ramsey", "Santi Cazorla","Mesut Özil","Francis Coquelin", "Mohamed Elneny","Jack Wilshere","Jeff Reine-Adelaide","","Alex Oxlade-Chamberlain", "Ainsley Maitland-Niles","Alex Iwobi", "Theo Walcott","Alexis Sánchez","","Olivier Giroud","Danny Welbeck","Lucas Pérez","Chuba Akpom"))+ scale_x_continuous(breaks=c(1,10,20,30,38))+labs(x="Matchday", y="",title="Arsenal Squad Rotation",subtitle="2016-2017 season",caption="by Benoit Pimpaud / @Ben8t",color="") + theme_ipsum_rc()
ggplot() +geom_point(data=all,aes(x=matchday,y=player,color=lineup),size=2) + scale_colour_manual(values=c("#f44336","#4caf50")) + scale_y_discrete(limits=c("Petr Cech", "David Ospina", "Emiliano Martínez","Matt Macey","","Héctor Bellerín","Carl Jenkinson", "Mathieu Debuchy","Nacho Monreal", "Kieran Gibbs", "Laurent Koscielny", "Shkodran Mustafi", "Gabriel Paulista", "Per Mertesacker","Rob Holding", "Calum Chambers","","Granit Xhaka","Aaron Ramsey", "Santi Cazorla","Mesut Özil","Francis Coquelin", "Mohamed Elneny","Jack Wilshere","Jeff Reine-Adelaide","","Alex Oxlade-Chamberlain", "Ainsley Maitland-Niles","Alex Iwobi", "Theo Walcott","Alexis Sánchez","","Olivier Giroud","Danny Welbeck","Lucas Pérez","Chuba Akpom"))+ scale_x_continuous(breaks=c(1,10,20,30,38))+labs(x="Matchday", y="",title="Arsenal Squad Rotation",subtitle="2016-2017 season",caption="by Benoit Pimpaud / @Ben8t",color="") + theme_ipsum_rc()
ggplot() +geom_point(data=all,aes(x=matchday,y=player,color=lineup),size=2) + scale_colour_manual(values=c("#ff5252","#69f0ae")) + scale_y_discrete(limits=c("Petr Cech", "David Ospina", "Emiliano Martínez","Matt Macey","","Héctor Bellerín","Carl Jenkinson", "Mathieu Debuchy","Nacho Monreal", "Kieran Gibbs", "Laurent Koscielny", "Shkodran Mustafi", "Gabriel Paulista", "Per Mertesacker","Rob Holding", "Calum Chambers","","Granit Xhaka","Aaron Ramsey", "Santi Cazorla","Mesut Özil","Francis Coquelin", "Mohamed Elneny","Jack Wilshere","Jeff Reine-Adelaide","","Alex Oxlade-Chamberlain", "Ainsley Maitland-Niles","Alex Iwobi", "Theo Walcott","Alexis Sánchez","","Olivier Giroud","Danny Welbeck","Lucas Pérez","Chuba Akpom"))+ scale_x_continuous(breaks=c(1,10,20,30,38))+labs(x="Matchday", y="",title="Arsenal Squad Rotation",subtitle="2016-2017 season",caption="by Benoit Pimpaud / @Ben8t",color="") + theme_ipsum_rc()
ggplot() +geom_point(data=all,aes(x=matchday,y=player,color=lineup),size=2) + scale_colour_manual(values=c("#ff8a80","#69f0ae")) + scale_y_discrete(limits=c("Petr Cech", "David Ospina", "Emiliano Martínez","Matt Macey","","Héctor Bellerín","Carl Jenkinson", "Mathieu Debuchy","Nacho Monreal", "Kieran Gibbs", "Laurent Koscielny", "Shkodran Mustafi", "Gabriel Paulista", "Per Mertesacker","Rob Holding", "Calum Chambers","","Granit Xhaka","Aaron Ramsey", "Santi Cazorla","Mesut Özil","Francis Coquelin", "Mohamed Elneny","Jack Wilshere","Jeff Reine-Adelaide","","Alex Oxlade-Chamberlain", "Ainsley Maitland-Niles","Alex Iwobi", "Theo Walcott","Alexis Sánchez","","Olivier Giroud","Danny Welbeck","Lucas Pérez","Chuba Akpom"))+ scale_x_continuous(breaks=c(1,10,20,30,38))+labs(x="Matchday", y="",title="Arsenal Squad Rotation",subtitle="2016-2017 season",caption="by Benoit Pimpaud / @Ben8t",color="") + theme_ipsum_rc()
ggplot() +geom_point(data=all,aes(x=matchday,y=player,color=lineup),size=2) + scale_colour_manual(values=c("#ff8a80","#00e676")) + scale_y_discrete(limits=c("Petr Cech", "David Ospina", "Emiliano Martínez","Matt Macey","","Héctor Bellerín","Carl Jenkinson", "Mathieu Debuchy","Nacho Monreal", "Kieran Gibbs", "Laurent Koscielny", "Shkodran Mustafi", "Gabriel Paulista", "Per Mertesacker","Rob Holding", "Calum Chambers","","Granit Xhaka","Aaron Ramsey", "Santi Cazorla","Mesut Özil","Francis Coquelin", "Mohamed Elneny","Jack Wilshere","Jeff Reine-Adelaide","","Alex Oxlade-Chamberlain", "Ainsley Maitland-Niles","Alex Iwobi", "Theo Walcott","Alexis Sánchez","","Olivier Giroud","Danny Welbeck","Lucas Pérez","Chuba Akpom"))+ scale_x_continuous(breaks=c(1,10,20,30,38))+labs(x="Matchday", y="",title="Arsenal Squad Rotation",subtitle="2016-2017 season",caption="by Benoit Pimpaud / @Ben8t",color="") + theme_ipsum_rc()
ggplot() +geom_point(data=all,aes(x=matchday,y=player,color=lineup),size=2) + scale_colour_manual(values=c("#ff8a80","#69f0ae")) + scale_y_discrete(limits=c("Petr Cech", "David Ospina", "Emiliano Martínez","Matt Macey","","Héctor Bellerín","Carl Jenkinson", "Mathieu Debuchy","Nacho Monreal", "Kieran Gibbs", "Laurent Koscielny", "Shkodran Mustafi", "Gabriel Paulista", "Per Mertesacker","Rob Holding", "Calum Chambers","","Granit Xhaka","Aaron Ramsey", "Santi Cazorla","Mesut Özil","Francis Coquelin", "Mohamed Elneny","Jack Wilshere","Jeff Reine-Adelaide","","Alex Oxlade-Chamberlain", "Ainsley Maitland-Niles","Alex Iwobi", "Theo Walcott","Alexis Sánchez","","Olivier Giroud","Danny Welbeck","Lucas Pérez","Chuba Akpom"))+ scale_x_continuous(breaks=c(1,10,20,30,38))+labs(x="Matchday", y="",title="Arsenal Squad Rotation",subtitle="2016-2017 season",caption="by Benoit Pimpaud / @Ben8t",color="") + theme_ipsum_rc()
url='https://www.transfermarkt.com/chelsea-fc/spielplan/verein/631/plus/0?saison_id=2016'
all=map2(getMatchUrl(url),getHomeAwayUrl(url),function(a,b)getLineUp(a,b))
all=do.call(rbind,all)
all$player = gsub("[[:space:]]*$","",all$player)
getLineUp <- function(url,team){
page = url %>% read_html()
matchday = page %>% html_nodes(xpath='//*[@id="main"]/div[7]/div/div/div[2]/div[3]/p[2]/a[1]') %>% html_text() %>% str_split(.,"\\.",simplify=T) %>% .[[1]] %>% as.numeric()
if(team==1){
page = url %>% read_html()
titu=page %>% html_nodes(xpath='//*[@id="main"]/div[9]/div[1]/div/div[2]/table') %>% html_table(fill=T) %>% nth(1) %>% .$X4 %>% na.omit() %>% as.character() %>% str_replace_all(.,"\\(.*\\)",'') %>% tibble(player=.)
post_titu = page %>% html_nodes(xpath='//*[@id="main"]/div[9]/div[1]/div/div[2]/table') %>% html_table(fill=T) %>% nth(1) %>% .$X5 %>% na.omit() %>% as.character() %>% str_replace_all(.,",.*","")
titu$lineup="starting"
titu$post=post_titu
bench= page %>% html_nodes(xpath='//*[@id="main"]/div[10]/div[1]/div/div[2]/table')%>% html_table(fill=T) %>% nth(1) %>% .$X4 %>% na.omit() %>% as.character() %>% str_replace_all(.,"\\(.*\\)",'') %>% tibble(player=.)
post_bench = page %>% html_nodes(xpath='//*[@id="main"]/div[10]/div[1]/div/div[2]/table') %>% html_table(fill=T) %>% nth(1) %>% .$X5 %>% na.omit() %>% as.character() %>% str_replace_all(.,",.*","")
bench$lineup="bench"
bench$post = post_bench
tb=rbind(titu,bench)
}
if(team==2){
page = url %>% read_html()
titu=page %>% html_nodes(xpath='//*[@id="main"]/div[9]/div[2]/div/div[2]/table') %>% html_table(fill=T) %>% nth(1) %>% .$X4 %>% na.omit() %>% as.character() %>% str_replace_all(.,"\\(.*\\)",'') %>% tibble(player=.)
post_titu = page %>% html_nodes(xpath='//*[@id="main"]/div[9]/div[2]/div/div[2]/table') %>% html_table(fill=T) %>% nth(1) %>% .$X5 %>% na.omit() %>% as.character() %>% str_replace_all(.,",.*","")
titu$post=post_titu
titu$lineup="starting"
bench= page %>% html_nodes(xpath='//*[@id="main"]/div[10]/div[2]/div/div[2]/table')%>% html_table(fill=T) %>% nth(1) %>% .$X4 %>% na.omit() %>% as.character() %>% str_replace_all(.,"\\(.*\\)",'') %>% tibble(player=.)
post_bench = page %>% html_nodes(xpath='//*[@id="main"]/div[10]/div[2]/div/div[2]/table') %>% html_table(fill=T) %>% nth(1) %>% .$X5 %>% na.omit() %>% as.character() %>% str_replace_all(.,",.*","")
bench$lineup="bench"
bench$post = post_bench
tb=rbind(titu,bench)
}
tb$matchday=matchday
return(tb)
}
#https://www.transfermarkt.com/arsenal-fc/spielplan/verein/11/plus/0?saison_id=2016
# Return url list of match
getMatchUrl <- function(url){
purrr::map(1:38,function(x) url %>% read_html() %>% html_nodes(xpath=paste0('//*[@id="main"]/div[9]/div[1]/div[5]/div[3]/table/tbody/tr[',x,']/td[10]/a')) %>% html_attr(.,"href") %>% paste0("https://www.transfermarkt.com",.) %>% str_replace_all(.,'index','aufstellung'))
}
# Return home/away (ie 1/2) list
getHomeAwayUrl <- function(url){
ifelse(purrr::map(1:38,function(x) url %>% read_html() %>% html_nodes(xpath=paste0('//*[@id="main"]/div[9]/div[1]/div[5]/div[3]/table/tbody/tr[',x,']/td[4]')) %>% html_text())=="H",1,2)
}
url='https://www.transfermarkt.com/chelsea-fc/spielplan/verein/631/plus/0?saison_id=2016'
all=map2(getMatchUrl(url),getHomeAwayUrl(url),function(a,b)getLineUp(a,b))
all=do.call(rbind,all)
all$player = gsub("[[:space:]]*$","",all$player)
View(all)
getLineUp(url,1)
getMatchUrl(url)
getMatchUrl("https://www.transfermarkt.com/chelsea-fc/spielplan/verein/631/plus/0?saison_id=2016")
url %>% read_html() %>% html_nodes(xpath=paste0('//*[@id="main"]/div[9]/div[1]/div[5]/div[3]/table/tbody/tr[',7,']/td[10]/a'))
url %>% read_html() %>% html_nodes(xpath=paste0('//*[@id="main"]/div[9]/div[1]/div[5]/div[3]/table/tbody/tr[',7,']/td[10]'))
url %>% read_html() %>% html_nodes(xpath=paste0('//*[@id="main"]/div[9]/div[1]/div[5]/div[3]/table/tbody/tr[',7,']'))
url %>% read_html() %>% html_nodes(xpath='//*[@id="main"]/div[9]/div[1]/div[5]/div[3]/table')
url %>% read_html() %>% html_nodes(xpath='//*[@id="main"]/div[9]/div[1]/div[5]/div[3]/table/tr[7]')
url %>% read_html() %>% html_nodes(xpath='//*[@id="main"]/div[9]/div[1]/div[5]/div[3]/table/tr[6]')
url %>% read_html() %>% html_nodes(xpath='//*[@id="main"]/div[9]/div[1]/div[5]/div[3]/table/tbody/tr[6]')
url %>% read_html() %>% html_nodes(xpath='//*[@id="main"]/div[9]/div[1]/div[5]/div[3]/table/tbody/tr[7]')
url %>% read_html() %>% html_nodes(xpath='//*[@id="main"]/div[9]/div[1]/div[5]/div[3]/table/tbody/tr[7]')url
url
c=url %>% read_html() %>% html_nodes(xpath='//*[@id="main"]/div[9]/div[1]/div[5]/div[3]/table') %>% html_table()
c
c=url %>% read_html() %>% html_nodes(xpath='//*[@id="main"]/div[9]/div[1]/div[5]/div[3]/table') %>% html_table() %>% nth(1)
View(c)
getLineUp <- function(url,team){
page = url %>% read_html()
matchday = page %>% html_nodes(xpath='//*[@id="main"]/div[7]/div/div/div[2]/div[3]/p[2]/a[1]') %>% html_text() %>% str_split(.,"\\.",simplify=T) %>% .[[1]] %>% as.numeric()
if(team==1){
page = url %>% read_html()
titu=page %>% html_nodes(xpath='//*[@id="main"]/div[9]/div[1]/div/div[2]/table') %>% html_table(fill=T) %>% nth(1) %>% .$X4 %>% na.omit() %>% as.character() %>% str_replace_all(.,"\\(.*\\)",'') %>% tibble(player=.)
post_titu = page %>% html_nodes(xpath='//*[@id="main"]/div[9]/div[1]/div/div[2]/table') %>% html_table(fill=T) %>% nth(1) %>% .$X5 %>% na.omit() %>% as.character() %>% str_replace_all(.,",.*","")
titu$lineup="starting"
titu$post=post_titu
bench= page %>% html_nodes(xpath='//*[@id="main"]/div[10]/div[1]/div/div[2]/table')%>% html_table(fill=T) %>% nth(1) %>% .$X4 %>% na.omit() %>% as.character() %>% str_replace_all(.,"\\(.*\\)",'') %>% tibble(player=.)
post_bench = page %>% html_nodes(xpath='//*[@id="main"]/div[10]/div[1]/div/div[2]/table') %>% html_table(fill=T) %>% nth(1) %>% .$X5 %>% na.omit() %>% as.character() %>% str_replace_all(.,",.*","")
bench$lineup="bench"
bench$post = post_bench
tb=rbind(titu,bench)
}
if(team==2){
page = url %>% read_html()
titu=page %>% html_nodes(xpath='//*[@id="main"]/div[9]/div[2]/div/div[2]/table') %>% html_table(fill=T) %>% nth(1) %>% .$X4 %>% na.omit() %>% as.character() %>% str_replace_all(.,"\\(.*\\)",'') %>% tibble(player=.)
post_titu = page %>% html_nodes(xpath='//*[@id="main"]/div[9]/div[2]/div/div[2]/table') %>% html_table(fill=T) %>% nth(1) %>% .$X5 %>% na.omit() %>% as.character() %>% str_replace_all(.,",.*","")
titu$post=post_titu
titu$lineup="starting"
bench= page %>% html_nodes(xpath='//*[@id="main"]/div[10]/div[2]/div/div[2]/table')%>% html_table(fill=T) %>% nth(1) %>% .$X4 %>% na.omit() %>% as.character() %>% str_replace_all(.,"\\(.*\\)",'') %>% tibble(player=.)
post_bench = page %>% html_nodes(xpath='//*[@id="main"]/div[10]/div[2]/div/div[2]/table') %>% html_table(fill=T) %>% nth(1) %>% .$X5 %>% na.omit() %>% as.character() %>% str_replace_all(.,",.*","")
bench$lineup="bench"
bench$post = post_bench
tb=rbind(titu,bench)
}
tb$matchday=matchday
return(tb)
}
#https://www.transfermarkt.com/arsenal-fc/spielplan/verein/11/plus/0?saison_id=2016
#https://www.transfermarkt.com/chelsea-fc/spielplan/verein/631/plus/0?saison_id=2016
# Return url list of match
getMatchUrl <- function(url){
purrr::map(1:38,function(x) url %>% read_html() %>% html_nodes(xpath=paste0('//*[@id="main"]/div[9]/div[1]/div[4]/div[3]/table/tbody/tr[',x,']/td[10]/a')) %>% html_attr(.,"href") %>% paste0("https://www.transfermarkt.com",.) %>% str_replace_all(.,'index','aufstellung'))
}
# Return home/away (ie 1/2) list
getHomeAwayUrl <- function(url){
ifelse(purrr::map(1:38,function(x) url %>% read_html() %>% html_nodes(xpath=paste0('//*[@id="main"]/div[9]/div[1]/div[5]/div[3]/table/tbody/tr[',x,']/td[4]')) %>% html_text())=="H",1,2)
}
url='https://www.transfermarkt.com/chelsea-fc/spielplan/verein/631/plus/0?saison_id=2016'
all=map2(getMatchUrl(url),getHomeAwayUrl(url),function(a,b)getLineUp(a,b))
all=do.call(rbind,all)
all$player = gsub("[[:space:]]*$","",all$player)
View(all)
# Return lineup
getLineUp <- function(url,team){
page = url %>% read_html()
matchday = page %>% html_nodes(xpath='//*[@id="main"]/div[7]/div/div/div[2]/div[3]/p[2]/a[1]') %>% html_text() %>% str_split(.,"\\.",simplify=T) %>% .[[1]] %>% as.numeric()
if(team==1){
page = url %>% read_html()
titu=page %>% html_nodes(xpath='//*[@id="main"]/div[9]/div[1]/div/div[2]/table') %>% html_table(fill=T) %>% nth(1) %>% .$X4 %>% na.omit() %>% as.character() %>% str_replace_all(.,"\\(.*\\)",'') %>% tibble(player=.)
post_titu = page %>% html_nodes(xpath='//*[@id="main"]/div[9]/div[1]/div/div[2]/table') %>% html_table(fill=T) %>% nth(1) %>% .$X5 %>% na.omit() %>% as.character() %>% str_replace_all(.,",.*","")
titu$lineup="starting"
titu$post=post_titu
bench= page %>% html_nodes(xpath='//*[@id="main"]/div[10]/div[1]/div/div[2]/table')%>% html_table(fill=T) %>% nth(1) %>% .$X4 %>% na.omit() %>% as.character() %>% str_replace_all(.,"\\(.*\\)",'') %>% tibble(player=.)
post_bench = page %>% html_nodes(xpath='//*[@id="main"]/div[10]/div[1]/div/div[2]/table') %>% html_table(fill=T) %>% nth(1) %>% .$X5 %>% na.omit() %>% as.character() %>% str_replace_all(.,",.*","")
bench$lineup="bench"
bench$post = post_bench
tb=rbind(titu,bench)
}
if(team==2){
page = url %>% read_html()
titu=page %>% html_nodes(xpath='//*[@id="main"]/div[9]/div[2]/div/div[2]/table') %>% html_table(fill=T) %>% nth(1) %>% .$X4 %>% na.omit() %>% as.character() %>% str_replace_all(.,"\\(.*\\)",'') %>% tibble(player=.)
post_titu = page %>% html_nodes(xpath='//*[@id="main"]/div[9]/div[2]/div/div[2]/table') %>% html_table(fill=T) %>% nth(1) %>% .$X5 %>% na.omit() %>% as.character() %>% str_replace_all(.,",.*","")
titu$post=post_titu
titu$lineup="starting"
bench= page %>% html_nodes(xpath='//*[@id="main"]/div[10]/div[2]/div/div[2]/table')%>% html_table(fill=T) %>% nth(1) %>% .$X4 %>% na.omit() %>% as.character() %>% str_replace_all(.,"\\(.*\\)",'') %>% tibble(player=.)
post_bench = page %>% html_nodes(xpath='//*[@id="main"]/div[10]/div[2]/div/div[2]/table') %>% html_table(fill=T) %>% nth(1) %>% .$X5 %>% na.omit() %>% as.character() %>% str_replace_all(.,",.*","")
bench$lineup="bench"
bench$post = post_bench
tb=rbind(titu,bench)
}
tb$matchday=matchday
return(tb)
}
#https://www.transfermarkt.com/arsenal-fc/spielplan/verein/11/plus/0?saison_id=2016
#https://www.transfermarkt.com/chelsea-fc/spielplan/verein/631/plus/0?saison_id=2016
# Return url list of match
getMatchUrl <- function(url){
purrr::map(1:38,function(x) url %>% read_html() %>% html_nodes(xpath=paste0('//*[@id="main"]/div[9]/div[1]/div[4]/div[3]/table/tbody/tr[',x,']/td[10]/a')) %>% html_attr(.,"href") %>% paste0("https://www.transfermarkt.com",.) %>% str_replace_all(.,'index','aufstellung'))
}
# Return home/away (ie 1/2) list
getHomeAwayUrl <- function(url){
ifelse(purrr::map(1:38,function(x) url %>% read_html() %>% html_nodes(xpath=paste0('//*[@id="main"]/div[9]/div[1]/div[4]/div[3]/table/tbody/tr[',x,']/td[4]')) %>% html_text())=="H",1,2)
}
url='https://www.transfermarkt.com/chelsea-fc/spielplan/verein/631/plus/0?saison_id=2016'
all=map2(getMatchUrl(url),getHomeAwayUrl(url),function(a,b)getLineUp(a,b))
all=do.call(rbind,all)
all$player = gsub("[[:space:]]*$","",all$player)
View(all)
write.csv2(all,"chelsea_lineup.csv",row.names=FALSE)
b=unique(all %>% select(player,post)) %>% arrange(desc(post))
View(b)
unique(b$player)
all = read.csv2("chelsea_lineup.csv")
# b=unique(all %>% select(player,post)) %>% arrange(desc(post))
ggplot() +geom_point(data=all,aes(x=matchday,y=player,color=lineup),size=2) + scale_colour_manual(values=c("#ff8a80","#69f0ae")) + scale_y_discrete(limits=c("Thibaut Courtois","Asmir Begovic","Eduardo","","David Luiz","Gary Cahill","César Azpilicueta","John Terry","Kurt Zouma","Nathan Aké","Branislav Ivanovic","Marcos Alonso","Victor Moses","Ola Aina" ,"","N'Golo Kanté","Nemanja Matic","Cesc Fàbregas","Ruben Loftus-Cheek" "Oscar","","Eden Hazard","Willian","Pedro",,"Diego Costa","Michy Batshuayi","Dominic Solanke"))+ scale_x_continuous(breaks=c(1,10,20,30,38))+labs(x="Matchday", y="",title="Chelsea Squad Rotation",subtitle="2016-2017 season",caption="by Benoit Pimpaud / @Ben8t",color="") + theme_ipsum_rc()
ggplot() +geom_point(data=all,aes(x=matchday,y=player,color=lineup),size=2) + scale_colour_manual(values=c("#ff8a80","#69f0ae")) + scale_y_discrete(limits=c("Thibaut Courtois","Asmir Begovic","Eduardo","","David Luiz","Gary Cahill","César Azpilicueta","John Terry","Kurt Zouma","Nathan Aké","Branislav Ivanovic","Marcos Alonso","Victor Moses","Ola Aina" ,"","N'Golo Kanté","Nemanja Matic","Cesc Fàbregas","Ruben Loftus-Cheek" "Oscar","","Eden Hazard","Willian","Pedro",,"Diego Costa","Michy Batshuayi","Dominic Solanke"))+ scale_x_continuous(breaks=c(1,10,20,30,38))+labs(x="Matchday", y="",title="Chelsea Squad Rotation",subtitle="2016-2017 season",caption="by Benoit Pimpaud / @Ben8t",color="") + theme_ipsum_rc()
all = read.csv2("chelsea_lineup.csv")
# b=unique(all %>% select(player,post)) %>% arrange(desc(post))
ggplot() +geom_point(data=all,aes(x=matchday,y=player,color=lineup),size=2) + scale_colour_manual(values=c("#ff8a80","#69f0ae")) + scale_y_discrete(limits=c("Thibaut Courtois","Asmir Begovic","Eduardo","","David Luiz","Gary Cahill","César Azpilicueta","John Terry","Kurt Zouma","Nathan Aké","Branislav Ivanovic","Marcos Alonso","Victor Moses","Ola Aina" ,"","N'Golo Kanté","Nemanja Matic","Cesc Fàbregas","Ruben Loftus-Cheek" "Oscar","","Eden Hazard","Willian","Pedro","","Diego Costa","Michy Batshuayi","Dominic Solanke"))+ scale_x_continuous(breaks=c(1,10,20,30,38))+labs(x="Matchday", y="",title="Chelsea Squad Rotation",subtitle="2016-2017 season",caption="by Benoit Pimpaud / @Ben8t",color="") + theme_ipsum_rc()
all = read.csv2("chelsea_lineup.csv")
# b=unique(all %>% select(player,post)) %>% arrange(desc(post))
ggplot() +geom_point(data=all,aes(x=matchday,y=player,color=lineup),size=2) + scale_colour_manual(values=c("#ff8a80","#69f0ae")) + scale_y_discrete(limits=c("Thibaut Courtois","Asmir Begovic","Eduardo","","David Luiz","Gary Cahill","César Azpilicueta","John Terry","Kurt Zouma","Nathan Aké","Branislav Ivanovic","Marcos Alonso","Victor Moses","Ola Aina" ,"","Nemanja Matic","Cesc Fàbregas","Ruben Loftus-Cheek" "Oscar","","Eden Hazard","Willian","Pedro","","Diego Costa","Michy Batshuayi","Dominic Solanke"))+ scale_x_continuous(breaks=c(1,10,20,30,38))+labs(x="Matchday", y="",title="Chelsea Squad Rotation",subtitle="2016-2017 season",caption="by Benoit Pimpaud / @Ben8t",color="") + theme_ipsum_rc()
# Chelsea
all = read.csv2("chelsea_lineup.csv")
# b=unique(all %>% select(player,post)) %>% arrange(desc(post))
ggplot() +geom_point(data=all,aes(x=matchday,y=player,color=lineup),size=2) + scale_colour_manual(values=c("#ff8a80","#69f0ae")) + scale_y_discrete(limits=c("Thibaut Courtois","Asmir Begovic","Eduardo","","David Luiz","Gary Cahill","César Azpilicueta","John Terry","Kurt Zouma","Nathan Aké","Branislav Ivanovic","Marcos Alonso","Victor Moses","Ola Aina","","Nemanja Matic","Cesc Fàbregas","Ruben Loftus-Cheek" "Oscar","","Eden Hazard","Willian","Pedro","","Diego Costa","Michy Batshuayi","Dominic Solanke"))+ scale_x_continuous(breaks=c(1,10,20,30,38))+labs(x="Matchday", y="",title="Chelsea Squad Rotation",subtitle="2016-2017 season",caption="by Benoit Pimpaud / @Ben8t",color="") + theme_ipsum_rc()
# Chelsea
all = read.csv2("chelsea_lineup.csv")
# b=unique(all %>% select(player,post)) %>% arrange(desc(post))
ggplot() +geom_point(data=all,aes(x=matchday,y=player,color=lineup),size=2) + scale_colour_manual(values=c("#ff8a80","#69f0ae")) + scale_y_discrete(limits=c("Thibaut Courtois","Asmir Begovic","Eduardo","","David Luiz","Gary Cahill","César Azpilicueta","John Terry","Kurt Zouma","Nathan Aké","Branislav Ivanovic","Marcos Alonso","Victor Moses","Ola Aina","","N'Golo Kanté","Nemanja Matic","Cesc Fàbregas","Ruben Loftus-Cheek","Oscar","","Eden Hazard","Willian","Pedro","","Diego Costa","Michy Batshuayi","Dominic Solanke"))+ scale_x_continuous(breaks=c(1,10,20,30,38))+labs(x="Matchday", y="",title="Chelsea Squad Rotation",subtitle="2016-2017 season",caption="by Benoit Pimpaud / @Ben8t",color="") + theme_ipsum_rc()
url='https://www.transfermarkt.com/liverpool/spielplan/verein/31/saison_id/2016'
all=map2(getMatchUrl(url),getHomeAwayUrl(url),function(a,b)getLineUp(a,b))
all=do.call(rbind,all)
all$player = gsub("[[:space:]]*$","",all$player)
View(all)
write.csv2(all,"liverpool_lineup.csv",row.names=FALSE)
b=unique(all$player)
b
b=unique(all %>% select(player,post)) %>% arrange(desc(post))
View(b)
unique(b$player)
ggplot() +geom_point(data=all,aes(x=matchday,y=player,color=lineup),size=2) + scale_colour_manual(values=c("#ff8a80","#69f0ae")) + scale_y_discrete(limits=c("Simon Mignolet","Loris Karius","Alexander Manninger","","Joel Matip","Dejan Lovren","Ragnar Klavan","James Milner","Alberto Moreno","Joe Gomez","Nathaniel Clyne","Trent Alexander-Arnold","Connor Randall","","Jordan Henderson","Emre Can","Lucas Leiva","Kevin Stewart","Marko Grujic","Georginio Wijnaldum","Adam Lallana","Ben Woodburn","","Philippe Coutinho","Sadio Mané","Harry Wilson","Ovie Ejaria","","Roberto Firmino","Daniel Sturridge","Divock Origi","Rhian Brewster"))+ scale_x_continuous(breaks=c(1,10,20,30,38))+labs(x="Matchday", y="",title="Lvierpool Squad Rotation",subtitle="2016-2017 season",caption="by Benoit Pimpaud / @Ben8t",color="") + theme_ipsum_rc()
ggplot() +geom_point(data=all,aes(x=matchday,y=player,color=lineup),size=2) + scale_colour_manual(values=c("#ff8a80","#69f0ae")) + scale_y_discrete(limits=c("Simon Mignolet","Loris Karius","Alexander Manninger","","Joel Matip","Dejan Lovren","Ragnar Klavan","James Milner","Alberto Moreno","Joe Gomez","Nathaniel Clyne","Trent Alexander-Arnold","Connor Randall","","Jordan Henderson","Emre Can","Lucas Leiva","Kevin Stewart","Marko Grujic","Georginio Wijnaldum","Adam Lallana","Ben Woodburn","Philippe Coutinho","Sadio Mané","Harry Wilson","Ovie Ejaria","","Roberto Firmino","Daniel Sturridge","Divock Origi","Rhian Brewster"))+ scale_x_continuous(breaks=c(1,10,20,30,38))+labs(x="Matchday", y="",title="Lvierpool Squad Rotation",subtitle="2016-2017 season",caption="by Benoit Pimpaud / @Ben8t",color="") + theme_ipsum_rc()
# b=unique(all %>% select(player,post)) %>% arrange(desc(post))
ggplot() +geom_point(data=all,aes(x=matchday,y=player,color=lineup),size=2) + scale_colour_manual(values=c("#ff8a80","#69f0ae")) + scale_y_discrete(limits=c("Simon Mignolet","Loris Karius","Alexander Manninger","","Joel Matip","Dejan Lovren","Ragnar Klavan","James Milner","Alberto Moreno","Joe Gomez","Nathaniel Clyne","Trent Alexander-Arnold","Connor Randall","","Jordan Henderson","Emre Can","Lucas Leiva","Kevin Stewart","Marko Grujic","Georginio Wijnaldum","Adam Lallana","Ben Woodburn","Philippe Coutinho","Harry Wilson","Ovie Ejaria","","Sadio Mané","Roberto Firmino","Daniel Sturridge","Divock Origi","Rhian Brewster"))+ scale_x_continuous(breaks=c(1,10,20,30,38))+labs(x="Matchday", y="",title="Lvierpool Squad Rotation",subtitle="2016-2017 season",caption="by Benoit Pimpaud / @Ben8t",color="") + theme_ipsum_rc()
ggplot() +geom_point(data=all,aes(x=matchday,y=player,color=lineup),size=2) + scale_colour_manual(values=c("#ff8a80","#69f0ae")) + scale_y_discrete(limits=c("Simon Mignolet","Loris Karius","Alexander Manninger","","Joel Matip","Dejan Lovren","Ragnar Klavan","James Milner","Alberto Moreno","Joe Gomez","Nathaniel Clyne","Trent Alexander-Arnold","Connor Randall","","Jordan Henderson","Emre Can","Lucas Leiva","Kevin Stewart","Marko Grujic","Georginio Wijnaldum","Adam Lallana","Ben Woodburn","Philippe Coutinho","Harry Wilson","Ovie Ejaria","","Sadio Mané","Roberto Firmino","Daniel Sturridge","Divock Origi","Rhian Brewster"))+ scale_x_continuous(breaks=c(1,10,20,30,38))+labs(x="Matchday", y="",title="Liverpool Squad Rotation",subtitle="2016-2017 season",caption="by Benoit Pimpaud / @Ben8t",color="") + theme_ipsum_rc()
getMatchUrl <- function(url){
purrr::map(1:38,function(x) url %>% read_html() %>% html_nodes(xpath=paste0('//*[@id="main"]/div[9]/div[1]/div[5]/div[3]/table/tbody/tr[',x,']/td[10]/a')) %>% html_attr(.,"href") %>% paste0("https://www.transfermarkt.com",.) %>% str_replace_all(.,'index','aufstellung'))
}
# Return home/away (ie 1/2) list
getHomeAwayUrl <- function(url){
ifelse(purrr::map(1:38,function(x) url %>% read_html() %>% html_nodes(xpath=paste0('//*[@id="main"]/div[9]/div[1]/div[5]/div[3]/table/tbody/tr[',x,']/td[4]')) %>% html_text())=="H",1,2)
}
url='https://www.transfermarkt.com/man-utd/spielplan/verein/985/saison_id/2016'
all=map2(getMatchUrl(url),getHomeAwayUrl(url),function(a,b)getLineUp(a,b))
all=do.call(rbind,all)
all$player = gsub("[[:space:]]*$","",all$player)
View(all)
write.csv2(all,"manUtd_lineup.csv",row.names=FALSE)
b=unique(all %>% select(player,post)) %>% arrange(desc(post))
unique(b$player)
View(b)
ggplot() +geom_point(data=all,aes(x=matchday,y=player,color=lineup),size=2) + scale_colour_manual(values=c("#ff8a80","#69f0ae")) + scale_y_discrete(limits=c("David de Gea","Sergio Romero","Joel Pereira","Kieran O'Hara","","Eric Bailly","Chris Smalling","Phil Jones","Marcos Rojo","Daley Blind","Axel Tuanzebe","Timothy Fosu-Mensah","Luke Shaw","Demetri Mitchell","Antonio Valencia","Matteo Darmian","Ashley Young","","Michael Carrick","Ander Herrera","Paul Pogba","Marouane Fellaini","Bastian Schweinsteiger","Morgan Schneiderlin","Juan Mata","Scott McTominay","Matthew Willock","Zachary Dearnley","","Henrikh Mkhitaryan","Anthony Martial","Jesse Lingard","Memphis Depay","Josh Harrop","Angel Gomes","","Zlatan Ibrahimovic","Wayne Rooney","Marcus Rashford"))+ scale_x_continuous(breaks=c(1,10,20,30,38))+labs(x="Matchday", y="",title="Manchester United Squad Rotation",subtitle="2016-2017 season",caption="by Benoit Pimpaud / @Ben8t",color="") + theme_ipsum_rc()
ggplot() +geom_point(data=all,aes(x=matchday,y=player,color=lineup),size=2) + scale_colour_manual(values=c("#ff8a80","#69f0ae")) + scale_y_discrete(limits=c("David de Gea","Sergio Romero","Joel Pereira","Kieran O'Hara","","Eric Bailly","Chris Smalling","Phil Jones","Marcos Rojo","Daley Blind","Axel Tuanzebe","Timothy Fosu-Mensah","Luke Shaw","Demetri Mitchell","Antonio Valencia","Matteo Darmian","Ashley Young","","Michael Carrick","Ander Herrera","Paul Pogba","Marouane Fellaini","Juan Mata","Bastian Schweinsteiger","Morgan Schneiderlin","Scott McTominay","Matthew Willock","Zachary Dearnley","","Henrikh Mkhitaryan","Anthony Martial","Jesse Lingard","Memphis Depay","Josh Harrop","Angel Gomes","","Zlatan Ibrahimovic","Wayne Rooney","Marcus Rashford"))+ scale_x_continuous(breaks=c(1,10,20,30,38))+labs(x="Matchday", y="",title="Manchester United Squad Rotation",subtitle="2016-2017 season",caption="by Benoit Pimpaud / @Ben8t",color="") + theme_ipsum_rc()
url='https://www.transfermarkt.com/man-city/spielplan/verein/281/saison_id/2016'
all=map2(getMatchUrl(url),getHomeAwayUrl(url),function(a,b)getLineUp(a,b))
all=do.call(rbind,all)
all$player = gsub("[[:space:]]*$","",all$player)
getMatchUrl <- function(url){
purrr::map(1:38,function(x) url %>% read_html() %>% html_nodes(xpath=paste0('//*[@id="main"]/div[9]/div[1]/div[6]/div[3]/table/tbody/tr[',x,']/td[10]/a')) %>% html_attr(.,"href") %>% paste0("https://www.transfermarkt.com",.) %>% str_replace_all(.,'index','aufstellung'))
}
# Return home/away (ie 1/2) list
getHomeAwayUrl <- function(url){
ifelse(purrr::map(1:38,function(x) url %>% read_html() %>% html_nodes(xpath=paste0('//*[@id="main"]/div[9]/div[1]/div[6]/div[3]/table/tbody/tr[',x,']/td[4]')) %>% html_text())=="H",1,2)
}
url='https://www.transfermarkt.com/man-city/spielplan/verein/281/saison_id/2016'
all=map2(getMatchUrl(url),getHomeAwayUrl(url),function(a,b)getLineUp(a,b))
all=do.call(rbind,all)
all$player = gsub("[[:space:]]*$","",all$player)
View(all)
write.csv2(all,"manCity_lineup.csv",row.names=FALSE)
b=unique(all %>% select(player,post)) %>% arrange(desc(post))
unique(b$player)
View(b)
ggplot() +geom_point(data=all,aes(x=matchday,y=player,color=lineup),size=2) + scale_colour_manual(values=c("#ff8a80","#69f0ae")) + scale_y_discrete(limits=c("Claudio Bravo","Joe Hart","Willy Caballero","Angus Gunn","","Nicolás Otamendi","Vincent Kompany","John Stones","Aleksandar Kolarov","Pablo Zabaleta","Bacary Sagna" ,"Gaël Clichy","Pablo Maffeo","Tosin Adarabioyo","","Fernandinho","Fernando","Yaya Touré","Fabian Delph","Ilkay Gündogan" ,"David Silva","Kevin De Bruyne","Aleix García","Samir Nasri","","Raheem Sterling","Leroy Sané","Nolito","Jesús Navas","","Sergio Agüero","Gabriel Jesus","Kelechi Iheanacho"))+ scale_x_continuous(breaks=c(1,10,20,30,38))+labs(x="Matchday", y="",title="Manchester City Squad Rotation",subtitle="2016-2017 season",caption="by Benoit Pimpaud / @Ben8t",color="") + theme_ipsum_rc()
url='https://www.transfermarkt.com/spurs/spielplan/verein/148/saison_id/2016'
all=map2(getMatchUrl(url),getHomeAwayUrl(url),function(a,b)getLineUp(a,b))
all=do.call(rbind,all)
all$player = gsub("[[:space:]]*$","",all$player)
View(all)
write.csv2(all,"tottenham_lineup.csv",row.names=FALSE)
b=unique(all %>% select(player,post)) %>% arrange(desc(post))
# unique(b$player)
b=unique(all %>% select(player,post)) %>% arrange(desc(post))
unique(b$player)
View(b)
limits=c("Hugo Lloris","Michel Vorm","Luke McGee","Pau López","","Toby Alderweireld","Jan Vertonghen","Kevin Wimmer","Ben Davies","Eric Dier","Danny Rose","Kyle Walker","Kieran Trippier","Cameron Carter-Vickers","","Victor Wanyama","Mousa Dembélé","Harry Winks","Ryan Mason","Tom Carroll","Filip Lesniak","","Dele Alli","Christian Eriksen","Heung-Min Son","Mousa Dembélé","Érik Lamela","Georges-Kevin N'Koudou","Josh Onomah","Samuel Shashoua","","Harry Kane","Vincent Janssen"))+ scale_x_continuous(breaks=c(1,10,20,30,38))+labs(x="Matchday", y="",title="Tottenham Squad Rotation",subtitle="2016-2017 season",caption="by Benoit Pimpaud / @Ben8t",color="") + theme_ipsum_rc()
ggplot() +geom_point(data=all,aes(x=matchday,y=player,color=lineup),size=2) + scale_colour_manual(values=c("#ff8a80","#69f0ae")) + scale_y_discrete(limits=c("Hugo Lloris","Michel Vorm","Luke McGee","Pau López","","Toby Alderweireld","Jan Vertonghen","Kevin Wimmer","Ben Davies","Eric Dier","Danny Rose","Kyle Walker","Kieran Trippier","Cameron Carter-Vickers","","Victor Wanyama","Mousa Dembélé","Harry Winks","Ryan Mason","Tom Carroll","Filip Lesniak","","Dele Alli","Christian Eriksen","Heung-Min Son","Mousa Dembélé","Érik Lamela","Georges-Kevin N'Koudou","Josh Onomah","Samuel Shashoua","","Harry Kane","Vincent Janssen"))+ scale_x_continuous(breaks=c(1,10,20,30,38))+labs(x="Matchday", y="",title="Tottenham Squad Rotation",subtitle="2016-2017 season",caption="by Benoit Pimpaud / @Ben8t",color="") + theme_ipsum_rc()
ggplot() +geom_point(data=all,aes(x=matchday,y=player,color=lineup),size=2) + scale_colour_manual(values=c("#ff8a80","#69f0ae")) + scale_y_discrete(limits=c("Hugo Lloris","Michel Vorm","Luke McGee","Pau López","","Toby Alderweireld","Jan Vertonghen","Kevin Wimmer","Ben Davies","Eric Dier","Danny Rose","Kyle Walker","Kieran Trippier","Cameron Carter-Vickers","","Victor Wanyama","Mousa Dembélé","Harry Winks","Ryan Mason","Tom Carroll","Filip Lesniak","","Dele Alli","Christian Eriksen","Heung-Min Son","Mousa Dembélé","Érik Lamela","Georges-Kevin N'Koudou","Josh Onomah","Samuel Shashoua","","Harry Kane","Vincent Janssen"))+ scale_x_continuous(breaks=c(1,10,20,30,38))+labs(x="Matchday", y="",title="Tottenham Squad Rotation",subtitle="2016-2017 season",caption="by Benoit Pimpaud / @Ben8t",color="") + theme_ipsum_rc()
ggplot() +geom_point(data=all,aes(x=matchday,y=player,color=lineup),size=2) + scale_colour_manual(values=c("#ff8a80","#69f0ae")) + scale_y_discrete(limits=c("Hugo Lloris","Michel Vorm","Luke McGee","Pau López","","Toby Alderweireld","Jan Vertonghen","Kevin Wimmer","Ben Davies","Eric Dier","Danny Rose","Kyle Walker","Kieran Trippier","Cameron Carter-Vickers","","Victor Wanyama","Mousa Dembélé","Harry Winks","Ryan Mason","Tom Carroll","Filip Lesniak","","Dele Alli","Christian Eriksen","Heung-Min Son","Moussa Sissoko","Érik Lamela","Georges-Kevin N'Koudou","Josh Onomah","Samuel Shashoua","","Harry Kane","Vincent Janssen"))+ scale_x_continuous(breaks=c(1,10,20,30,38))+labs(x="Matchday", y="",title="Tottenham Squad Rotation",subtitle="2016-2017 season",caption="by Benoit Pimpaud / @Ben8t",color="") + theme_ipsum_rc()
