library(grid)
library(gridExtra)
library(dplyr)
getHomeAwayUrl <- function(url){
purrr::map(1:38,function(x) url %>% read_html() %>% html_nodes(xpath=paste0('//*[@id="main"]/div[9]/div[1]/div[5]/div[3]/table/tbody/tr[',x,']/td[5]') %>% html_text()
}
getHomeAwayUrl <- function(url){
purrr::map(1:38,function(x) url %>% read_html() %>% html_nodes(xpath=paste0('//*[@id="main"]/div[9]/div[1]/div[5]/div[3]/table/tbody/tr[',x,']/td[5]')) %>% html_text()
}
getHomeAwayUrl <- function(url){
purrr::map(1:38,function(x) url %>% read_html() %>% html_nodes(xpath=paste0('//*[@id="main"]/div[9]/div[1]/div[5]/div[3]/table/tbody/tr[',x,']/td[5]')) %>% html_text())
}
a='https://www.transfermarkt.com/arsenal-fc/spielplan/verein/11/plus/0?saison_id=2016'
getHomeAwayUrl(a)
getHomeAwayUrl <- function(url){
purrr::map(1:38,function(x) url %>% read_html() %>% html_nodes(xpath=paste0('//*[@id="main"]/div[9]/div[1]/div[5]/div[3]/table/tbody/tr[',x,']/td[4]')) %>% html_text())
}
getHomeAwayUrl <- function(url){
purrr::map(1:38,function(x) url %>% read_html() %>% html_nodes(xpath=paste0('//*[@id="main"]/div[9]/div[1]/div[5]/div[3]/table/tbody/tr[',x,']/td[4]')) %>% html_text() %>% ifelse(.=="H",1,2))
}
getHomeAwayUrl(a)
getHomeAwayUrl <- function(url){
purrr::map(1:38,function(x) url %>% read_html() %>% html_nodes(xpath=paste0('//*[@id="main"]/div[9]/div[1]/div[5]/div[3]/table/tbody/tr[',x,']/td[4]')) %>% html_text() %>% ifelse(=="H",1,2))
}
getHomeAwayUrl <- function(url){
purrr::map(1:38,function(x) url %>% read_html() %>% html_nodes(xpath=paste0('//*[@id="main"]/div[9]/div[1]/div[5]/div[3]/table/tbody/tr[',x,']/td[4]')) %>% html_text()) %>% ifelse(.=="H",1,2)
}
getHomeAwayUrl(a)
getHomeAwayUrl <- function(url){
purrr::map(1:38,function(x) url %>% read_html() %>% html_nodes(xpath=paste0('//*[@id="main"]/div[9]/div[1]/div[5]/div[3]/table/tbody/tr[',x,']/td[4]')) %>% html_text())
}
getHomeAwayUrl(a)
getHomeAwayUrl <- function(url){
purrr::map(1:38,function(x) url %>% read_html() %>% html_nodes(xpath=paste0('//*[@id="main"]/div[9]/div[1]/div[5]/div[3]/table/tbody/tr[',x,']/td[4]')) %>% html_text() %>% ifelse(~.=="H",1,2))
}
getHomeAwayUrl(a)
getHomeAwayUrl <- function(url){
purrr::map(1:38,function(x) url %>% read_html() %>% html_nodes(xpath=paste0('//*[@id="main"]/div[9]/div[1]/div[5]/div[3]/table/tbody/tr[',x,']/td[4]')) %>% html_text() %>% ~ifelse(.=="H",1,2))
}
getHomeAwayUrl(a)
getHomeAwayUrl <- function(url){
purrr::map(1:38,function(x) url %>% read_html() %>% html_nodes(xpath=paste0('//*[@id="main"]/div[9]/div[1]/div[5]/div[3]/table/tbody/tr[',x,']/td[4]')) %>% html_text() %>% ifelse(.=="H",1,2))
}
getHomeAwayUrl(a)
map(1:3,ifelse(.==1,2,3))
library(purrr)
map(1:3,ifelse(.==1,2,3))
map(1:3,ifelse(~.==1,2,3))
map(1:3,ifelse(~.=1,2,3))
map(1:3,ifelse(==1,2,3))
map(1:3,ifelse(.==1,2,3))
map(1:3,ifelse())
map(1:3,ifelse(),.==1,2)
map(1:3,ifelse(),.==1,2,3)
map(1:3,ifelse(),~.==1,2,3)
map(1:3,.+1)
map(1:3,~.+1)
map(1:3,if(~.==1,1,2))
map(1:3,if)
1 %>% ifelse(.==1,2,3)
1 %>% ifelse(~.==1,2,3)
1 %>% ifelse(2,3)
1 %>% ifelse(<2,3)
1 %>% ifelse(>2,3)
getHomeAwayUrl <- function(url){
purrr::map(1:38,function(x) url %>% read_html() %>% html_nodes(xpath=paste0('//*[@id="main"]/div[9]/div[1]/div[5]/div[3]/table/tbody/tr[',x,']/td[4]')) %>% html_text() %>% ~ifelse(.=="H",1,2))
}
getHomeAwayUrl(a)
ifelse(1:3==1,2,3)
getHomeAwayUrl <- function(url){
purrr::map(1:38,function(x) url %>% read_html() %>% html_nodes(xpath=paste0('//*[@id="main"]/div[9]/div[1]/div[5]/div[3]/table/tbody/tr[',x,']/td[4]')) %>% html_text()) %>% ifelse(.=="H",1,2)
}
getHomeAwayUrl(a)
getHomeAwayUrl <- function(url){
purrr::map(1:38,function(x) url %>% read_html() %>% html_nodes(xpath=paste0('//*[@id="main"]/div[9]/div[1]/div[5]/div[3]/table/tbody/tr[',x,']/td[4]')) %>% html_text()) %>% ~ifelse(.=="H",1,2)
}
getHomeAwayUrl(a)
getHomeAwayUrl <- function(url){
purrr::map(1:38,function(x) url %>% read_html() %>% html_nodes(xpath=paste0('//*[@id="main"]/div[9]/div[1]/div[5]/div[3]/table/tbody/tr[',x,']/td[4]')) %>% html_text()) %>% ifelse(~.=="H",1,2)
}
getHomeAwayUrl(a)
getHomeAwayUrl <- function(url){
purrr::map(1:38,function(x) url %>% read_html() %>% html_nodes(xpath=paste0('//*[@id="main"]/div[9]/div[1]/div[5]/div[3]/table/tbody/tr[',x,']/td[4]')) %>% html_text() %>% if(.=="H") 1 else 2)
}
getHomeAwayUrl(a)
getHomeAwayUrl <- function(url){
purrr::map(1:38,function(x) url %>% read_html() %>% html_nodes(xpath=paste0('//*[@id="main"]/div[9]/div[1]/div[5]/div[3]/table/tbody/tr[',x,']/td[4]')) %>% html_text() %>% if(~.=="H") 1 else 2)
}
getHomeAwayUrl(a)
getHomeAwayUrl <- function(url){
ifelse(purrr::map(1:38,function(x) url %>% read_html() %>% html_nodes(xpath=paste0('//*[@id="main"]/div[9]/div[1]/div[5]/div[3]/table/tbody/tr[',x,']/td[4]')) %>% html_text())=="H",1,2)
}
getHomeAwayUrl(a)
do.call(rbind,map2(getMatchUrl(url),getHomeAwayUrl(url),getLineUp(x,y))
)
getLineUp <- function(url,team){
page = url %>% read_html()
matchday = page %>% html_nodes(xpath='//*[@id="main"]/div[7]/div/div/div[2]/div[3]/p[2]/a[1]') %>% html_text() %>% str_split(.,"\\.",simplify=T) %>% .[[1]] %>% as.numeric()
if(team==1){
page = url %>% read_html()
titu=page %>% html_nodes(xpath='//*[@id="main"]/div[9]/div[1]/div/div[2]/table') %>% html_table(fill=T) %>% nth(1) %>% .$X4 %>% na.omit() %>% as.character() %>% str_replace_all(.,"\\(.*\\)",'') %>% tibble(player=.)
titu$lineup="player"
bench= page %>% html_nodes(xpath='//*[@id="main"]/div[10]/div[1]/div/div[2]/table')%>% html_table(fill=T) %>% nth(1) %>% .$X4 %>% na.omit() %>% as.character() %>% str_replace_all(.,"\\(.*\\)",'') %>% tibble(player=.)
bench$lineup="bench"
tb=rbind(titu,bench)
}
if(team==2){
page = url %>% read_html()
titu=page %>% html_nodes(xpath='//*[@id="main"]/div[9]/div[2]/div/div[2]/table') %>% html_table(fill=T) %>% nth(1) %>% .$X4 %>% na.omit() %>% as.character() %>% str_replace_all(.,"\\(.*\\)",'') %>% tibble(player=.)
titu$lineup="player"
bench= page %>% html_nodes(xpath='//*[@id="main"]/div[10]/div[2]/div/div[2]/table')%>% html_table(fill=T) %>% nth(1) %>% .$X4 %>% na.omit() %>% as.character() %>% str_replace_all(.,"\\(.*\\)",'') %>% tibble(player=.)
bench$lineup="bench"
tb=rbind(titu,bench)
}
tb$matchday=matchday
return(tb)
}
#https://www.transfermarkt.com/arsenal-fc/spielplan/verein/11/plus/0?saison_id=2016
getMatchUrl <- function(url){
purrr::map(1:38,function(x) url %>% read_html() %>% html_nodes(xpath=paste0('//*[@id="main"]/div[9]/div[1]/div[5]/div[3]/table/tbody/tr[',x,']/td[10]/a')) %>% html_attr(.,"href") %>% paste0("https://www.transfermarkt.com",.) %>% str_replace_all(.,'index','aufstellung'))
}
getHomeAwayUrl <- function(url){
ifelse(purrr::map(1:38,function(x) url %>% read_html() %>% html_nodes(xpath=paste0('//*[@id="main"]/div[9]/div[1]/div[5]/div[3]/table/tbody/tr[',x,']/td[4]')) %>% html_text())=="H",1,2)
}
list=getMatchUrl("https://www.transfermarkt.com/arsenal-fc/spielplan/verein/11/plus/0?saison_id=2016")
do.call(rbind,map2(getMatchUrl(url),getHomeAwayUrl(url),getLineUp(x,y))
)
do.call(rbind,map2(getMatchUrl(url),getHomeAwayUrl(url),getLineUp(getMatchUrl(url),getHomeAwayUrl(url))))
map(getMatchUrl(url),getHomeAwayurl(url),function(a,b)getLineUp(a,b))
map2(getMatchUrl(url),getHomeAwayurl(url),function(a,b)getLineUp(a,b))
url
url="https://www.transfermarkt.com/arsenal-fc/spielplan/verein/11/plus/0?saison_id=2016"
map2(getMatchUrl(url),getHomeAwayurl(url),function(a,b)getLineUp(a,b))
map(getMatchUrl(url),getHomeAwayUrl(url),function(a,b)getLineUp(a,b))
map2(getMatchUrl(url),getHomeAwayUrl(url),function(a,b)getLineUp(a,b))
a=map2(getMatchUrl(url),getHomeAwayUrl(url),function(a,b)getLineUp(a,b))
a
a=map2(getMatchUrl(url),getHomeAwayUrl(url),function(a,b)getLineUp(a,b))
a
save.image("~/Documents/DevData/scrape/lineup/variableTMP.RData")
all = do.call(rbind,a)
library(ggplot2)
ggplot() + geom_point(data=all,aes(x=matchday,y=player))
ggplot() + geom_point(data=all,aes(x=matchday,y=player,color=lineup))
ggplot() + geom_point(data=all,aes(x=matchday,y=player %>% str_replace(.,"\\s",""),color=lineup))
library(stringr)
ggplot() + geom_point(data=all,aes(x=matchday,y=player %>% str_replace(.,"\\s",""),color=lineup))
all2 = all
all2$player = str_replace_all(all$player,"\\s","")
View(all2)
ggplot() + geom_point(data=all2,aes(x=matchday,y=player,color=lineup))
library(ggplot2)
ggplot() +
geom_rect(aes(xmin = 0, xmax = 100, ymin = 0, ymax = 100), fill = NA, colour = "#000000", size = 1) +
geom_rect(aes(xmin = 0, xmax = 50, ymin = 0, ymax = 100), fill = NA, colour = "#000000", size = 1) +
geom_rect(aes(xmin = 17, xmax = 0, ymin = 21, ymax = 79), fill = NA, colour = "#000000", size = 1) +
geom_rect(aes(xmin = 83, xmax = 100, ymin = 21, ymax = 79), fill = NA, colour = "#000000", size = 1) +
geom_rect(aes(xmin = 0, xmax = 6, ymin = 36.8, ymax = 63.2), fill = NA, colour = "#000000", size = 1) +
geom_rect(aes(xmin = 100, xmax = 94, ymin = 36.8, ymax = 63.2), fill = NA, colour = "#000000", size = 1) +
theme(rect = element_blank(),
line = element_blank(),
text = element_blank())
my.data <- read.clipboad()
install.packages("psych")
my.data <- read.clipboad()
my.data <- read.clipboard()
my.data <- read.clipboard.csv()
library(psych)
my.data <- read.clipboard.csv()
my.data <- read.clipboard.csv(Player	Goal	Right foot	Left foot	Head	Dribble successful	Aerial duels won	Assists	Total shots	Total Passes
Lacazette	1	0,9	0,1	0,1	1,8	1	0,1	3,1	28,2
Giroud	0,9	0,1	0,4	0,5	0,2	3,2	0,2	2,9	27,7)
my.data <- read.clipboard.csv()
my.data <- read.clipboard.csv(header=T)
read.clipboard(header = T)
read.clipboard(header = T,sep="\t")
a=read.clipboard(header = T,sep="\t")
View(a)
data=a
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
# Library
library(fmsb)
install.packages("fmsb")
library(fmsb)
colors_border=c( rgb(0.2,0.5,0.5,0.9), rgb(0.8,0.2,0.5,0.9) , rgb(0.7,0.5,0.1,0.9) )
colors_in=c( rgb(0.2,0.5,0.5,0.4), rgb(0.8,0.2,0.5,0.4) , rgb(0.7,0.5,0.1,0.4) )
radarchart( data  , axistype=1 ,
#custom polygon
pcol=colors_border , pfcol=colors_in , plwd=4 , plty=1,
#custom the grid
cglcol="grey", cglty=1, axislabcol="grey", caxislabels=seq(0,20,5), cglwd=0.8,
#custom labels
vlcex=0.8
)
legend(x=0.7, y=1, legend = rownames(data[-c(1,2),]), bty = "n", pch=20 , col=colors_in , text.col = "grey", cex=1.2, pt.cex=3)
View(a)
rownames(data)=c("Lacazette","Giroud")
data
library(dplyr)
data = data %>% select(-Player)
data
colors_border=c( rgb(0.2,0.5,0.5,0.9), rgb(0.8,0.2,0.5,0.9))
colors_in=c( rgb(0.2,0.5,0.5,0.4), rgb(0.8,0.2,0.5,0.4))
radarchart( data  , axistype=1 ,
#custom polygon
pcol=colors_border , pfcol=colors_in , plwd=4 , plty=1,
#custom the grid
cglcol="grey", cglty=1, axislabcol="grey", caxislabels=seq(0,20,5), cglwd=0.8,
#custom labels
vlcex=0.8
)
legend(x=0.7, y=1, legend = rownames(data[-c(1,2),]), bty = "n", pch=20 , col=colors_in , text.col = "grey", cex=1.2, pt.cex=3)
typeof(data$Goal)
data$Goal
a=read.clipboard(header = T,sep="\t",dec=".")
a=read.clipboard(header = T,sep="\t",dec=",")
a
a=read.clipboard(header = T,sep="\t",dec=",")
View(a)
data=a
rownames(data)=c("Lacazette","Giroud")
data = data %>% select(-Player)
data
data
colors_border=c( rgb(0.2,0.5,0.5,0.9), rgb(0.8,0.2,0.5,0.9))
colors_in=c( rgb(0.2,0.5,0.5,0.4), rgb(0.8,0.2,0.5,0.4))
radarchart( data  , axistype=1 ,
#custom polygon
pcol=colors_border , pfcol=colors_in , plwd=4 , plty=1,
#custom the grid
cglcol="grey", cglty=1, axislabcol="grey", caxislabels=seq(0,20,5), cglwd=0.8,
#custom labels
vlcex=0.8
)
legend(x=0.7, y=1, legend = rownames(data[-c(1,2),]), bty = "n", pch=20 , col=colors_in , text.col = "grey", cex=1.2, pt.cex=3)
colors_border=c( rgb(0.2,0.5,0.5,0.9), rgb(0.8,0.2,0.5,0.9))
colors_in=c( rgb(0.2,0.5,0.5,0.4), rgb(0.8,0.2,0.5,0.4))
radarchart( data  , axistype=1 ,
#custom polygon
pcol=colors_border , pfcol=colors_in , plwd=4 , plty=1,
#custom the grid
cglcol="grey", cglty=1, axislabcol="grey", caxislabels=seq(0,20,5), cglwd=0.8,
#custom labels
vlcex=0.8
)
colors_border=c( rgb(0.2,0.5,0.5,0.9), rgb(0.8,0.2,0.5,0.9))
colors_in=c( rgb(0.2,0.5,0.5,0.4), rgb(0.8,0.2,0.5,0.4))
radarchart( data  , axistype=1 ,
#custom polygon
pcol=colors_border , pfcol=colors_in , plwd=4 , plty=1,
#custom the grid
cglcol="grey", cglty=1, axislabcol="grey", caxislabels=seq(0,20), cglwd=0.8,
#custom labels
vlcex=0.8
)
radarchart( data  , axistype=1)
dat <- read.csv("~/Downloads/Empty google spreadsheet - Feuille 1.csv", dec=",")
View(dat)
colors_border=c( rgb(0.2,0.5,0.5,0.9), rgb(0.8,0.2,0.5,0.9))
colors_in=c( rgb(0.2,0.5,0.5,0.4), rgb(0.8,0.2,0.5,0.4))
radarchart( dat , axistype=1)
colors_border=c( rgb(0.2,0.5,0.5,0.9), rgb(0.8,0.2,0.5,0.9) , rgb(0.7,0.5,0.1,0.9) )
colors_in=c( rgb(0.2,0.5,0.5,0.4), rgb(0.8,0.2,0.5,0.4) , rgb(0.7,0.5,0.1,0.4) )
radarchart( dat  , axistype=1 ,
#custom polygon
pcol=colors_border , pfcol=colors_in , plwd=4 , plty=1,
#custom the grid
cglcol="grey", cglty=1, axislabcol="grey", caxislabels=seq(0,20,5), cglwd=0.8,
#custom labels
vlcex=0.8
)
legend(x=0.7, y=1, legend = rownames(data[-c(1,2),]), bty = "n", pch=20 , col=colors_in , text.col = "grey", cex=1.2, pt.cex=3)
rownames(dat)=c("Lacazette","Giroud")
dat = dat %>% select(-player)
rownames(dat)=c("Lacazette","Giroud")
dat = dat %>% select(-Player)
rownames(dat)=c("Lacazette","Giroud","max","min")
dat = dat %>% select(-Player)
radarchart( dat  , axistype=1 ,
#custom polygon
pcol=colors_border , pfcol=colors_in , plwd=4 , plty=1,
#custom the grid
cglcol="grey", cglty=1, axislabcol="grey", caxislabels=seq(0,20,5), cglwd=0.8,
#custom labels
vlcex=0.8
)
radarchart( dat  , axistype=1 ,
#custom polygon
pcol=colors_border , pfcol=colors_in , plwd=4 , plty=1,
#custom the grid
cglcol="grey", cglty=1, axislabcol="grey", caxislabels=seq(0,20,5), cglwd=0.8,
#custom labels
vlcex=0.8
)
legend(x=0.7, y=1, legend = rownames(data[-c(1,2),]), bty = "n", pch=20 , col=colors_in , text.col = "grey", cex=1.2, pt.cex=3)
radarchart( dat  , axistype=1 ,
#custom polygon
pcol=colors_border , pfcol=colors_in , plwd=4 , plty=1,
#custom the grid
cglcol="grey", cglty=1, axislabcol="grey", caxislabels=seq(0,20,5), cglwd=0.8,
#custom labels
vlcex=0.8
)
legend(x=0.7, y=1, legend = rownames(dat[-c(1,2),]), bty = "n", pch=20 , col=colors_in , text.col = "grey", cex=1.2, pt.cex=3)
radarchart( dat  , axistype=1 ,
#custom polygon
pcol=colors_border , pfcol=colors_in , plwd=4 , plty=1,
#custom the grid
cglcol="grey", cglty=1, axislabcol="grey", caxislabels=seq(0,1,5), cglwd=0.8,
#custom labels
vlcex=0.8
)
legend(x=0.7, y=1, legend = rownames(dat[-c(1,2),]), bty = "n", pch=20 , col=colors_in , text.col = "grey", cex=1.2, pt.cex=3)
ownames(dat[-c(1,2),])
rownames(dat[-c(1,2),])
rownames(dat)
rownames(dat[c(1,2)])
rownames(dat[c(1,2),2])
rownames(dat[c(1,2),])
radarchart( dat  , axistype=1 ,
#custom polygon
pcol=colors_border , pfcol=colors_in , plwd=4 , plty=1,
#custom the grid
cglcol="grey", cglty=1, axislabcol="grey", caxislabels=seq(0,1,5), cglwd=0.8,
#custom labels
vlcex=0.8
)
legend(x=0.7, y=1, legend = rownames(dat[c(1,2),]), bty = "n", pch=20 , col=colors_in , text.col = "grey", cex=1.2, pt.cex=3)
dat
ozil = data.frame(club=c("Schalke 04","Werder Bremen","Real Madrid","Arsenal"),GoalPer90=c(1*90/2268,16*90/8279,27*90/11377,32*90/13810))
View(ozil)
ozil = data.frame(club=c("Schalke 04","Werder Bremen","Real Madrid","Arsenal"),GoalPer90=c(1*90/2268,16*90/8279,27*90/11377,32*90/13810),AssistsPer90=c(5*90/2268,54*90/8279,81*90/11377,57*90/13810))
library(tidyverse)
ggplot(data=ozil,aes(x=club)) + geom_bar()
ggplot(data=ozil,aes(x=club)) + geom_bar(aes(y=GoalPer90))
ggplot(data=ozil,aes(x=club)) + geom_bar(aes(y=GoalPer90),stat="identity")
ggplot(data=ozil,aes(x=club)) + geom_bar(stat="identity")
ggplot(data=ozil,aes(x=club)) + geom_bar(aes(y=GoalPer90),stat="identity")
ozil.dodge = fortify(ozil)
View(ozil.dodge)
ozil.dodge = melt(ozil)
library(reshape2)
ozil.dodge = melt(ozil)
ggplot(data=ozil.dodge,aes(x=club)) + geom_bar(aes(y=value,fill=variable),stat="identity")
ggplot(data=ozil.dodge,aes(x=club)) + geom_bar(aes(y=value,fill=variable),stat="identity",position=position_dodge())
ggplot(data=ozil.dodge,aes(x=club)) + geom_bar(aes(y=value,fill=variable),stat="identity",position=position_dodge()) + scale_x_discrete(limits=c("Schalke 04","Werder Bremen","Real Madrid","Arsenal"))
library(hrbrthemes)
ggplot(data=ozil.dodge,aes(x=club)) + geom_bar(aes(y=value,fill=variable),stat="identity",position=position_dodge()) + scale_x_discrete(limits=c("Schalke 04","Werder Bremen","Real Madrid","Arsenal")) + theme_dark()
ggplot(data=ozil.dodge,aes(x=club)) + geom_bar(aes(y=value,fill=variable),stat="identity",position=position_dodge()) + scale_x_discrete(limits=c("Schalke 04","Werder Bremen","Real Madrid","Arsenal")) + theme_rc()
ggplot(data=ozil.dodge,aes(x=club)) + geom_bar(aes(y=value,fill=variable),stat="identity",position=position_dodge()) + scale_x_discrete(limits=c("Schalke 04","Werder Bremen","Real Madrid","Arsenal")) + +labs(x="Matchday", y="",title="Manchester City Squad Rotation",subtitle="2016-2017 season",caption="by Benoit Pimpaud / @Ben8t",color="") + theme_ipsum_rc()
ggplot(data=ozil.dodge,aes(x=club)) + geom_bar(aes(y=value,fill=variable),stat="identity",position=position_dodge()) + scale_x_discrete(limits=c("Schalke 04","Werder Bremen","Real Madrid","Arsenal")) +labs(x="", y="per 90 minutes",title="Mesut Ozil goals and assists evolution",subtitle="",caption="by Benoit Pimpaud / @Ben8t",color="") + theme_ipsum_rc()
ozil = data.frame(club=c("Schalke 04","Werder Bremen","Real Madrid","Arsenal"),Goals=c(1*90/2268,16*90/8279,27*90/11377,32*90/13810),Assists=c(5*90/2268,54*90/8279,81*90/11377,57*90/13810))
ozil.dodge = melt(ozil)
ggplot(data=ozil.dodge,aes(x=club)) + geom_bar(aes(y=value,fill=variable),stat="identity",position=position_dodge()) + scale_x_discrete(limits=c("Schalke 04","Werder Bremen","Real Madrid","Arsenal")) +labs(x="", y="per 90 minutes",title="Mesut Ozil goals and assists evolution",subtitle="",caption="by Benoit Pimpaud / @Ben8t",color="") + theme_ipsum_rc()
ggplot(data=ozil.dodge,aes(x=club)) + geom_bar(aes(y=value,fill=variable),stat="identity",position=position_dodge()) + scale_fill_manual(values=c("#999999", "#E69F00")) + scale_x_discrete(limits=c("Schalke 04","Werder Bremen","Real Madrid","Arsenal")) +labs(x="", y="per 90 minutes",title="Mesut Ozil goals and assists evolution",subtitle="",caption="by Benoit Pimpaud / @Ben8t",color="") + theme_ipsum_rc()
ggplot(data=ozil.dodge,aes(x=club)) + geom_bar(aes(y=value,fill=variable),stat="identity",position=position_dodge()) + scale_fill_manual(values=c("#1de9b6", "#40c4ff")) + scale_x_discrete(limits=c("Schalke 04","Werder Bremen","Real Madrid","Arsenal")) +labs(x="", y="per 90 minutes",title="Mesut Ozil goals and assists evolution",subtitle="",caption="by Benoit Pimpaud / @Ben8t",color="") + theme_ipsum_rc()
# gace_ozil.r
library(tidyverse)
library(hrbrthemes)
library(repshape2)
ozil = data.frame(club=c("Schalke 04","Werder Bremen","Real Madrid","Arsenal"),Goals=c(1*90/2268,16*90/8279,27*90/11377,32*90/13810),Assists=c(5*90/2268,54*90/8279,81*90/11377,57*90/13810))
ozil.dodge = melt(ozil)
ggplot(data=ozil.dodge,aes(x=club)) + geom_bar(aes(y=value,fill=variable),stat="identity",position=position_dodge()) + scale_fill_manual(values=c("#1de9b6", "#40c4ff")) + scale_x_discrete(limits=c("Schalke 04","Werder Bremen","Real Madrid","Arsenal")) +labs(x="", y="per 90 minutes",title="Mesut Ozil goals and assists evolution",subtitle="",caption="by Benoit Pimpaud / @Ben8t",color="") + theme_ipsum_rc()
# gace_ozil.r
library(tidyverse)
library(hrbrthemes)
library(reshape2)
ozil = data.frame(club=c("Schalke 04","Werder Bremen","Real Madrid","Arsenal"),Goals=c(1*90/2268,16*90/8279,27*90/11377,32*90/13810),Assists=c(5*90/2268,54*90/8279,81*90/11377,57*90/13810))
ozil.dodge = melt(ozil)
ggplot(data=ozil.dodge,aes(x=club)) + geom_bar(aes(y=value,fill=variable),stat="identity",position=position_dodge()) + scale_fill_manual(values=c("#1de9b6", "#40c4ff")) + scale_x_discrete(limits=c("Schalke 04","Werder Bremen","Real Madrid","Arsenal")) +labs(x="", y="per 90 minutes",title="Mesut Ozil goals and assists evolution",subtitle="",caption="by Benoit Pimpaud / @Ben8t",color="") + theme_ipsum_rc()
ggplot(data=ozil.dodge,aes(x=club)) + geom_bar(aes(y=value,fill=variable),stat="identity",position=position_dodge()) + scale_fill_manual(values=c("#80cbc4", "#90caf9")) + scale_x_discrete(limits=c("Schalke 04","Werder Bremen","Real Madrid","Arsenal")) +labs(x="", y="per 90 minutes",title="Mesut Ozil goals and assists evolution",subtitle="",caption="by Benoit Pimpaud / @Ben8t",color="") + theme_ipsum_rc()
# gace_ozil.r
library(tidyverse)
library(hrbrthemes)
library(reshape2)
ozil = data.frame(club=c("Schalke 04","Werder Bremen","Real Madrid","Arsenal"),Goals=c(1*90/2268,16*90/8279,27*90/11377,32*90/13810),Assists=c(5*90/2268,54*90/8279,81*90/11377,57*90/13810))
ozil.dodge = melt(ozil)
ggplot(data=ozil.dodge,aes(x=club)) + geom_bar(aes(y=value,fill=variable),stat="identity",position=position_dodge()) + scale_fill_manual(values=c("#1de9b6", "#40c4ff")) + scale_x_discrete(limits=c("Schalke 04","Werder Bremen","Real Madrid","Arsenal")) +labs(x="", y="per 90 minutes",title="Mesut Ozil goals and assists evolution",subtitle="",caption="by Benoit Pimpaud / @Ben8t",color="") + theme_ipsum_rc()
library(rmote)
rmote::start_rmote()
?lm
a=2
a
plot(c(1,2,3),c(2,3,4))
plot_done()
setwd("~/Documents/DevData/FootScrapeViz/Maps")
source(file="map_scrape.r")
ggsave(filename = "test.png",p,width =5,height=3,res=300)
ggsave(filename = "test.png",p,width =5,height=3,dpi=300)
source(file="map_scrape.r")
source(file="map_scrape.r")
source(file="map_scrape.r")
source(file="map_scrape.r")
ggsave(filename = "test.png",p,width =30,height=10,dpi=300)
ggsave(filename = "test.png",p,width =20,height=8,dpi=300)
20/8
15/2.5
ggsave(filename = "test.png",p,width =15,height=6,dpi=300)
source(file="map_scrape.r")
source(file="map_scrape.r")
source(file="map_scrape.r")
source(file="map_scrape.r")
ggplot(pattern_tomap,aes(x,y,group=pattern)) +
xlim(0,3) +
geom_point(aes(size=n),colour = TEAM_COLOR) +
scale_color_discrete()+
geom_line(colour=TEAM_COLOR)+
geom_text(aes(label=name),hjust=0.5, vjust=2) +
theme_ipsum_rc() +
theme(axis.title=element_blank(),axis.text=element_blank(),axis.ticks=element_blank(),panel.grid.major = element_blank(), panel.grid.minor = element_blank(),panel.background = element_blank())
source(file="map_scrape.r")
ggplot(pattern_tomap,aes(x,y,group=pattern)) +
xlim(0,3) +
geom_point(aes(size=n),colour = TEAM_COLOR) +
scale_size_discrete()+
geom_line(colour=TEAM_COLOR)+
geom_text(aes(label=name),hjust=0.5, vjust=2) +
theme_ipsum_rc() +
theme(axis.title=element_blank(),axis.text=element_blank(),axis.ticks=element_blank(),panel.grid.major = element_blank(), panel.grid.minor = element_blank(),panel.background = element_blank())
ggplot(pattern_tomap,aes(x,y,group=pattern)) +
xlim(0,3) +
geom_point(aes(size=n),colour = TEAM_COLOR) +
scale_size(range = c(0, 10))+
geom_line(colour=TEAM_COLOR)+
geom_text(aes(label=name),hjust=0.5, vjust=2) +
theme_ipsum_rc() +
theme(axis.title=element_blank(),axis.text=element_blank(),axis.ticks=element_blank(),panel.grid.major = element_blank(), panel.grid.minor = element_blank(),panel.background = element_blank())
# 3-pass pattern
g_pattern <- ggplot(pattern_tomap,aes(x,y,group=pattern)) +
xlim(0,3) +
geom_point(aes(size=n),colour = TEAM_COLOR) +
scale_size("Count",range = c(1,2))+
geom_line(colour=TEAM_COLOR)+
geom_text(aes(label=name),hjust=0.5, vjust=2) +
theme_ipsum_rc() +
theme(axis.title=element_blank(),axis.text=element_blank(),axis.ticks=element_blank(),panel.grid.major = element_blank(), panel.grid.minor = element_blank(),panel.background = element_blank())
g_patter
g_pattern
# 3-pass pattern
g_pattern <- ggplot(pattern_tomap,aes(x,y,group=pattern)) +
xlim(0,3) +
geom_point(aes(size=n),colour = TEAM_COLOR) +
scale_size("Count",breaks=c(1:50))+
geom_line(colour=TEAM_COLOR)+
geom_text(aes(label=name),hjust=0.5, vjust=2) +
theme_ipsum_rc() +
theme(axis.title=element_blank(),axis.text=element_blank(),axis.ticks=element_blank(),panel.grid.major = element_blank(), panel.grid.minor = element_blank(),panel.background = element_blank())
g_pattern
source(file="map_scrape.r")
source(file="map_scrape.r")
source(file="map_scrape.r")
12/2.5
ggsave(filename = "test.png",p,width =12,height=5,dpi=300)
# Save plot
ggsave(filename = "test.png",p,width =14,height=6,dpi=300)
Rscript
source(file="map_scrape.r")
args
args[1]
args[[1]
args[[1]
args[[1]]
source(file="map_scrape.r")
ggsave(filename = "g_pattern.png",g_pattern,width =3,height=8,dpi=300)
